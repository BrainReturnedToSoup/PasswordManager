import{s as X,n as H,r as ae,e as se}from"../chunks/scheduler.ycOvhNHW.js";import{S as Y,i as Z,g as b,m as J,s as E,h as g,j as $,n as K,f as L,c as w,x as z,k as p,a as ee,y as u,z as P,A as q,o as ie,e as Q,t as V,b as le,d as B,p as ue,r as te,u as re,v as ne,w as oe}from"../chunks/index.5tyFQWbo.js";import{c as ce,g as pe,p as fe,a as de,r as me,L as _e}from"../chunks/authState.OtZXzfGP.js";import{h as he}from"../chunks/loginSignupHandlers.4ioY5A86.js";function be(o){let t,e,r,s,c,n,l,a="Email",m,i,A,v,h,S="Password",T,f,O,k,U,D,j,y,F="New user? Sign up here!",R,M;return{c(){t=b("div"),e=b("form"),r=b("p"),s=J(o[0]),c=E(),n=b("div"),l=b("label"),l.textContent=a,m=E(),i=b("input"),A=E(),v=b("div"),h=b("label"),h.textContent=S,T=E(),f=b("input"),O=E(),k=b("button"),U=J("Log in!"),j=E(),y=b("a"),y.textContent=F,this.h()},l(d){t=g(d,"DIV",{class:!0});var _=$(t);e=g(_,"FORM",{});var C=$(e);r=g(C,"P",{class:!0});var x=$(r);s=K(x,o[0]),x.forEach(L),c=w(C),n=g(C,"DIV",{class:!0});var I=$(n);l=g(I,"LABEL",{for:!0,"data-svelte-h":!0}),z(l)!=="svelte-1p9d3fm"&&(l.textContent=a),m=w(I),i=g(I,"INPUT",{type:!0,id:!0,autocomplete:!0}),I.forEach(L),A=w(C),v=g(C,"DIV",{class:!0});var N=$(v);h=g(N,"LABEL",{for:!0,"data-svelte-h":!0}),z(h)!=="svelte-pepa0a"&&(h.textContent=S),T=w(N),f=g(N,"INPUT",{type:!0,id:!0,autocomplete:!0}),N.forEach(L),O=w(C),k=g(C,"BUTTON",{type:!0});var G=$(k);U=K(G,"Log in!"),G.forEach(L),C.forEach(L),j=w(_),y=g(_,"A",{class:!0,href:!0,"data-svelte-h":!0}),z(y)!=="svelte-180bc3l"&&(y.textContent=F),_.forEach(L),this.h()},h(){p(r,"class","server-error-response"),p(l,"for","email"),p(i,"type","email"),p(i,"id","email"),p(i,"autocomplete","on"),i.disabled=o[3],i.required=!0,p(n,"class","input-container"),p(h,"for","password"),p(f,"type","password"),p(f,"id","password"),p(f,"autocomplete","on"),f.disabled=o[3],f.required=!0,p(v,"class","input-container"),p(k,"type","submit"),k.disabled=D=!o[4],e.noValidate=!0,p(y,"class","page-redirect-link"),p(y,"href","/sign-up"),p(t,"class","page log-in")},m(d,_){ee(d,t,_),u(t,e),u(e,r),u(r,s),u(e,c),u(e,n),u(n,l),u(n,m),u(n,i),P(i,o[1]),u(e,A),u(e,v),u(v,h),u(v,T),u(v,f),P(f,o[2]),u(e,O),u(e,k),u(k,U),u(t,j),u(t,y),R||(M=[q(i,"input",o[5]),q(i,"input",o[7]),q(f,"input",o[5]),q(f,"input",o[8]),q(e,"submit",o[6])],R=!0)},p(d,[_]){_&1&&ie(s,d[0]),_&8&&(i.disabled=d[3]),_&2&&i.value!==d[1]&&P(i,d[1]),_&8&&(f.disabled=d[3]),_&4&&f.value!==d[2]&&P(f,d[2]),_&16&&D!==(D=!d[4])&&(k.disabled=D)},i:H,o:H,d(d){d&&L(t),R=!1,ae(M)}}}const W="";function ge(o,t,e){let r,s=W;function c(){e(0,s=W)}let n,l,a=!1;async function m(v){v.preventDefault(),e(3,a=!0);let h,S;try{h=await he(n,l)}catch(T){console.error("log-in submit error",S,S.stack),S=T}S&&e(0,s=S),h&&e(0,s=h),e(3,a=!1)}function i(){n=this.value,e(1,n)}function A(){l=this.value,e(2,l)}return o.$$.update=()=>{o.$$.dirty&15&&e(4,r=n&&l&&!s&&!a)},[s,n,l,a,r,c,m,i,A]}class ve extends Y{constructor(t){super(),Z(this,t,ge,be,X,{})}}function Se(o){let t,e;return t=new _e({}),{c(){te(t.$$.fragment)},l(r){re(t.$$.fragment,r)},m(r,s){ne(t,r,s),e=!0},i(r){e||(B(t.$$.fragment,r),e=!0)},o(r){V(t.$$.fragment,r),e=!1},d(r){oe(t,r)}}}function ke(o){let t,e;return t=new ve({}),{c(){te(t.$$.fragment)},l(r){re(t.$$.fragment,r)},m(r,s){ne(t,r,s),e=!0},i(r){e||(B(t.$$.fragment,r),e=!0)},o(r){V(t.$$.fragment,r),e=!1},d(r){oe(t,r)}}}function ye(o){let t,e,r,s;const c=[ke,Se],n=[];function l(a,m){return!a[0].pendingAuthCheckStore&&!a[0].authStateStore?0:1}return t=l(o),e=n[t]=c[t](o),{c(){e.c(),r=Q()},l(a){e.l(a),r=Q()},m(a,m){n[t].m(a,m),ee(a,r,m),s=!0},p(a,[m]){let i=t;t=l(a),t!==i&&(ue(),V(n[i],1,1,()=>{n[i]=null}),le(),e=n[t],e||(e=n[t]=c[t](a),e.c()),B(e,1),e.m(r.parentNode,r))},i(a){s||(B(e),s=!0)},o(a){V(e),s=!1},d(a){a&&L(r),n[t].d(a)}}}function Ce(o,t,e){const r={pendingAuthCheckStore:fe,authStateStore:de,redirectToLoginStore:me},s={};let c={};for(const[n,l]of Object.entries(r))s[n]=l.subscribe(a=>{const m={...c};m[n]=a,e(0,c=m)}),se(s[n]);return!c.pendingAuthCheckStore&&!c.redirectToLoginStore&&ce(),r.redirectToLoginStore.false(),o.$$.update=()=>{o.$$.dirty&1&&!c.pendingAuthCheckStore&&c.authStateStore&&pe("/home")},[c]}class Ae extends Y{constructor(t){super(),Z(this,t,Ce,ye,X,{})}}export{Ae as component};
