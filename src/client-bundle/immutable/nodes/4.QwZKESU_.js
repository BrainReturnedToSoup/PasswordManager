import{s as Y,n as J,r as ae,e as se}from"../chunks/scheduler.BbOnFq8D.js";import{S as Z,i as x,g as b,m as K,s as $,h as g,j as A,n as Q,f as C,c as E,x as z,k as f,a as ee,y as u,z as N,A as T,o as ie,e as W,t as P,b as le,d as V,p as ue,r as te,u as re,v as ne,w as oe}from"../chunks/index.r4Y_ernq.js";import{c as ce,g as fe,p as pe,a as de,L as me}from"../chunks/authState.zYQrtrWA.js";import{h as _e}from"../chunks/formSubmissionHandling.lJBno8RB.js";function he(n){let t,e,r,s,l,o,c,a="Email",m,i,w,v,h,L="Password",B,p,O,k,U,q,j,S,F="New user? Sign up here!",R,M;return{c(){t=b("div"),e=b("form"),r=b("p"),s=K(n[3]),l=$(),o=b("div"),c=b("label"),c.textContent=a,m=$(),i=b("input"),w=$(),v=b("div"),h=b("label"),h.textContent=L,B=$(),p=b("input"),O=$(),k=b("button"),U=K("Log in!"),j=$(),S=b("a"),S.textContent=F,this.h()},l(d){t=g(d,"DIV",{class:!0});var _=A(t);e=g(_,"FORM",{});var y=A(e);r=g(y,"P",{class:!0});var G=A(r);s=Q(G,n[3]),G.forEach(C),l=E(y),o=g(y,"DIV",{class:!0});var D=A(o);c=g(D,"LABEL",{for:!0,"data-svelte-h":!0}),z(c)!=="svelte-1p9d3fm"&&(c.textContent=a),m=E(D),i=g(D,"INPUT",{type:!0,id:!0,autocomplete:!0}),D.forEach(C),w=E(y),v=g(y,"DIV",{class:!0});var I=A(v);h=g(I,"LABEL",{for:!0,"data-svelte-h":!0}),z(h)!=="svelte-pepa0a"&&(h.textContent=L),B=E(I),p=g(I,"INPUT",{type:!0,id:!0,autocomplete:!0}),I.forEach(C),O=E(y),k=g(y,"BUTTON",{type:!0});var H=A(k);U=Q(H,"Log in!"),H.forEach(C),y.forEach(C),j=E(_),S=g(_,"A",{class:!0,href:!0,"data-svelte-h":!0}),z(S)!=="svelte-180bc3l"&&(S.textContent=F),_.forEach(C),this.h()},h(){f(r,"class","server-error-response"),f(c,"for","email"),f(i,"type","email"),f(i,"id","email"),f(i,"autocomplete","on"),i.disabled=n[2],i.required=!0,f(o,"class","input-container"),f(h,"for","password"),f(p,"type","password"),f(p,"id","password"),f(p,"autocomplete","on"),p.disabled=n[2],p.required=!0,f(v,"class","input-container"),f(k,"type","submit"),k.disabled=q=!n[4],e.noValidate=!0,f(S,"class","page-redirect-link"),f(S,"href","/sign-up"),f(t,"class","page log-in")},m(d,_){ee(d,t,_),u(t,e),u(e,r),u(r,s),u(e,l),u(e,o),u(o,c),u(o,m),u(o,i),N(i,n[0]),u(e,w),u(e,v),u(v,h),u(v,B),u(v,p),N(p,n[1]),u(e,O),u(e,k),u(k,U),u(t,j),u(t,S),R||(M=[T(i,"input",n[5]),T(i,"input",n[7]),T(p,"input",n[5]),T(p,"input",n[8]),T(e,"submit",n[6])],R=!0)},p(d,[_]){_&8&&ie(s,d[3]),_&4&&(i.disabled=d[2]),_&1&&i.value!==d[0]&&N(i,d[0]),_&4&&(p.disabled=d[2]),_&2&&p.value!==d[1]&&N(p,d[1]),_&16&&q!==(q=!d[4])&&(k.disabled=q)},i:J,o:J,d(d){d&&C(t),R=!1,ae(M)}}}const X="";function be(n,t,e){let r,s,l,o=!1,c=X;function a(){e(3,c=X)}async function m(v){v.preventDefault(),e(2,o=!0);let h;try{h=await _e(s,l)}catch(L){console.error("log-in submit error",L,L.stack)}h&&e(3,c=h),e(2,o=!1)}function i(){s=this.value,e(0,s)}function w(){l=this.value,e(1,l)}return n.$$.update=()=>{n.$$.dirty&15&&e(4,r=s&&l&&!c&&!o)},[s,l,o,c,r,a,m,i,w]}class ge extends Z{constructor(t){super(),x(this,t,be,he,Y,{})}}function ve(n){let t,e;return t=new ge({}),{c(){te(t.$$.fragment)},l(r){re(t.$$.fragment,r)},m(r,s){ne(t,r,s),e=!0},i(r){e||(V(t.$$.fragment,r),e=!0)},o(r){P(t.$$.fragment,r),e=!1},d(r){oe(t,r)}}}function ke(n){let t,e;return t=new me({}),{c(){te(t.$$.fragment)},l(r){re(t.$$.fragment,r)},m(r,s){ne(t,r,s),e=!0},i(r){e||(V(t.$$.fragment,r),e=!0)},o(r){P(t.$$.fragment,r),e=!1},d(r){oe(t,r)}}}function Se(n){let t,e,r,s;const l=[ke,ve],o=[];function c(a,m){return a[0].pendingAuthCheckStore?0:!a[0].pendingAuthCheckStore&&!a[0].localAuthStateStore?1:-1}return~(t=c(n))&&(e=o[t]=l[t](n)),{c(){e&&e.c(),r=W()},l(a){e&&e.l(a),r=W()},m(a,m){~t&&o[t].m(a,m),ee(a,r,m),s=!0},p(a,[m]){let i=t;t=c(a),t!==i&&(e&&(ue(),P(o[i],1,1,()=>{o[i]=null}),le()),~t?(e=o[t],e||(e=o[t]=l[t](a),e.c()),V(e,1),e.m(r.parentNode,r)):e=null)},i(a){s||(V(e),s=!0)},o(a){P(e),s=!1},d(a){a&&C(r),~t&&o[t].d(a)}}}function ye(n,t,e){const r={pendingAuthCheckStore:pe,authStateStore:de},s={};let l={};for(const[o,c]of Object.entries(r))s[o]=c.subscribe(a=>{const m={...l};m[o]=a,e(0,l=m)}),se(s[o]);return l.pendingAuthCheckStore||ce(),n.$$.update=()=>{n.$$.dirty&1&&!l.pendingAuthCheckStore&&l.authStateStore&&fe("/home")},[l]}class we extends Z{constructor(t){super(),x(this,t,ye,Se,Y,{})}}export{we as component};
