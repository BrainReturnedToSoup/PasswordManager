import{s as he,n as de,r as we,e as Pe}from"../chunks/scheduler.XwmuOfpH.js";import{S as be,i as ve,g as c,s as S,m as R,h as d,j as y,c as w,n as W,f as E,x as J,k as p,a as ae,y as a,A as F,z as q,o as K,e as me,t as Q,b as ye,d as X,p as Ae,r as ge,u as Ee,v as ke,w as Ce}from"../chunks/index.BP64-74v.js";import{b as Le,a as Se,c as Ie,g as Te,p as De,L as Me}from"../chunks/navigation.SwcUdgsl.js";import{b as Ve,v as qe,a as Be}from"../chunks/constraintValidation.zERmOH_T.js";import{a as Ne}from"../chunks/redirect.qSmBOq2d.js";function _e(s){let e,r;return{c(){e=c("p"),r=R(s[6]),this.h()},l(t){e=d(t,"P",{class:!0});var n=y(e);r=W(n,s[6]),n.forEach(E),this.h()},h(){p(e,"class","server-error-response")},m(t,n){ae(t,e,n),a(e,r)},p(t,n){n&64&&K(r,t[6])},d(t){t&&E(e)}}}function Ue(s){let e,r,t,n,l,u,b,o,_="Email",k,h,L,C,I,B,H,A,N="Password",Y,v,Z,P,U,$,x,V,oe="Confirm Password",ee,g,te,T,re,G,se,D,ie="Existing User? Log in here!",ne,le,m=s[6]&&_e(s);return{c(){e=c("div"),m&&m.c(),r=S(),t=c("form"),n=c("div"),l=c("p"),u=R(s[3]),b=S(),o=c("label"),o.textContent=_,k=S(),h=c("input"),L=S(),C=c("div"),I=c("p"),B=R(s[4]),H=S(),A=c("label"),A.textContent=N,Y=S(),v=c("input"),Z=S(),P=c("div"),U=c("p"),$=R(s[5]),x=S(),V=c("label"),V.textContent=oe,ee=S(),g=c("input"),te=S(),T=c("button"),re=R("Sign up!"),se=S(),D=c("a"),D.textContent=ie,this.h()},l(i){e=d(i,"DIV",{class:!0});var f=y(e);m&&m.l(f),r=w(f),t=d(f,"FORM",{});var M=y(t);n=d(M,"DIV",{class:!0});var O=y(n);l=d(O,"P",{class:!0});var ue=y(l);u=W(ue,s[3]),ue.forEach(E),b=w(O),o=d(O,"LABEL",{for:!0,"data-svelte-h":!0}),J(o)!=="svelte-1p9d3fm"&&(o.textContent=_),k=w(O),h=d(O,"INPUT",{id:!0,type:!0}),O.forEach(E),L=w(M),C=d(M,"DIV",{class:!0});var j=y(C);I=d(j,"P",{class:!0});var fe=y(I);B=W(fe,s[4]),fe.forEach(E),H=w(j),A=d(j,"LABEL",{for:!0,"data-svelte-h":!0}),J(A)!=="svelte-pepa0a"&&(A.textContent=N),Y=w(j),v=d(j,"INPUT",{id:!0,type:!0}),j.forEach(E),Z=w(M),P=d(M,"DIV",{class:!0});var z=y(P);U=d(z,"P",{class:!0});var pe=y(U);$=W(pe,s[5]),pe.forEach(E),x=w(z),V=d(z,"LABEL",{for:!0,"data-svelte-h":!0}),J(V)!=="svelte-1kqgfb9"&&(V.textContent=oe),ee=w(z),g=d(z,"INPUT",{id:!0,type:!0}),z.forEach(E),te=w(M),T=d(M,"BUTTON",{type:!0});var ce=y(T);re=W(ce,"Sign up!"),ce.forEach(E),M.forEach(E),se=w(f),D=d(f,"A",{class:!0,href:!0,"data-svelte-h":!0}),J(D)!=="svelte-wkans"&&(D.textContent=ie),f.forEach(E),this.h()},h(){p(l,"class","input-error email"),p(o,"for","email"),p(h,"id","email"),p(h,"type","email"),h.disabled=s[7],h.required=!0,p(n,"class","input-container"),p(I,"class","input-error password"),p(A,"for","password"),p(v,"id","password"),p(v,"type","password"),v.disabled=s[7],v.required=!0,p(C,"class","input-container"),p(U,"class","input-error confirm-password"),p(V,"for","confirm-password"),p(g,"id","confirm-password"),p(g,"type","password"),g.disabled=s[7],g.required=!0,p(P,"class","input-container"),p(T,"type","submit"),T.disabled=G=!s[8],t.noValidate=!0,p(D,"class","page-redirect-link"),p(D,"href","/log-in"),p(e,"class","page sign-up")},m(i,f){ae(i,e,f),m&&m.m(e,null),a(e,r),a(e,t),a(t,n),a(n,l),a(l,u),a(n,b),a(n,o),a(n,k),a(n,h),F(h,s[0]),a(t,L),a(t,C),a(C,I),a(I,B),a(C,H),a(C,A),a(C,Y),a(C,v),F(v,s[1]),a(t,Z),a(t,P),a(P,U),a(U,$),a(P,x),a(P,V),a(P,ee),a(P,g),F(g,s[2]),a(t,te),a(t,T),a(T,re),a(e,se),a(e,D),ne||(le=[q(h,"input",s[9]),q(h,"input",s[11]),q(v,"input",s[9]),q(v,"input",s[12]),q(g,"input",s[9]),q(g,"input",s[13]),q(t,"submit",s[10])],ne=!0)},p(i,[f]){i[6]?m?m.p(i,f):(m=_e(i),m.c(),m.m(e,r)):m&&(m.d(1),m=null),f&8&&K(u,i[3]),f&128&&(h.disabled=i[7]),f&1&&h.value!==i[0]&&F(h,i[0]),f&16&&K(B,i[4]),f&128&&(v.disabled=i[7]),f&2&&v.value!==i[1]&&F(v,i[1]),f&32&&K($,i[5]),f&128&&(g.disabled=i[7]),f&4&&g.value!==i[2]&&F(g,i[2]),f&256&&G!==(G=!i[8])&&(T.disabled=G)},i:de,o:de,d(i){i&&E(e),m&&m.d(),ne=!1,we(le)}}}function Oe(s,e,r){let t,n,l,u,b,o,_,k;function h(){r(6,k="")}let L=!1;async function C(A){A.preventDefault(),r(7,L=!0);const N=await Le.post.signup(n,l);!N.success&&!N.auth?r(6,k=N.error):(Ne.true(),Se.authedTrue()),r(7,L=!1)}function I(){n=this.value,r(0,n)}function B(){l=this.value,r(1,l)}function H(){u=this.value,r(2,u)}return s.$$.update=()=>{s.$$.dirty&1&&(n?r(3,b=Ve(n)):r(3,b="")),s.$$.dirty&2&&(l?r(4,o=qe(l)):r(4,o="")),s.$$.dirty&6&&(u&&l?r(5,_=Be(u,l)):r(5,_="")),s.$$.dirty&255&&r(8,t=n&&l&&u&&!b&&!o&&!_&&!k&&!L)},[n,l,u,b,o,_,k,L,t,h,C,I,B,H]}class je extends be{constructor(e){super(),ve(this,e,Oe,Ue,he,{})}}function ze(s){let e,r;return e=new Me({}),{c(){ge(e.$$.fragment)},l(t){Ee(e.$$.fragment,t)},m(t,n){ke(e,t,n),r=!0},i(t){r||(X(e.$$.fragment,t),r=!0)},o(t){Q(e.$$.fragment,t),r=!1},d(t){Ce(e,t)}}}function Fe(s){let e,r;return e=new je({}),{c(){ge(e.$$.fragment)},l(t){Ee(e.$$.fragment,t)},m(t,n){ke(e,t,n),r=!0},i(t){r||(X(e.$$.fragment,t),r=!0)},o(t){Q(e.$$.fragment,t),r=!1},d(t){Ce(e,t)}}}function He(s){let e,r,t,n;const l=[Fe,ze],u=[];function b(o,_){return!o[0].pendingAuthCheckStore&&!o[0].localAuthStateStore?0:1}return e=b(s),r=u[e]=l[e](s),{c(){r.c(),t=me()},l(o){r.l(o),t=me()},m(o,_){u[e].m(o,_),ae(o,t,_),n=!0},p(o,[_]){let k=e;e=b(o),e!==k&&(Ae(),Q(u[k],1,1,()=>{u[k]=null}),ye(),r=u[e],r||(r=u[e]=l[e](o),r.c()),X(r,1),r.m(t.parentNode,t))},i(o){n||(X(r),n=!0)},o(o){Q(r),n=!1},d(o){o&&E(t),u[e].d(o)}}}function Re(s,e,r){const t={pendingAuthCheckStore:De,authStateStore:Se};let n={};for(const[l,u]of Object.entries(t)){const b=u.subscribe(o=>{const _={...n};_[l]=o,r(0,n=_)});Pe(b)}return n.pendingAuthCheckStore||Ie(),s.$$.update=()=>{s.$$.dirty&1&&!n.pendingAuthCheckStore&&n.authStateStore&&Te("/home")},[n]}class Qe extends be{constructor(e){super(),ve(this,e,Re,He,he,{})}}export{Qe as component};
