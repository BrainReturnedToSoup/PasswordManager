import{s as G,n as z,r as Z,e as tt}from"../chunks/scheduler.BbOnFq8D.js";import{S as H,i as J,g as h,s as C,m as et,h as g,j as $,x as U,c as A,f as k,n as nt,k as p,a as K,y as c,z as D,A as w,e as F,t as I,b as rt,d as N,p as ot,r as Q,u as W,v as X,w as Y}from"../chunks/index.r4Y_ernq.js";import{c as at,g as st,f as it,p as lt,a as ut,L as ct}from"../chunks/authState.gqwAn0LA.js";import{h as ft}from"../chunks/formSubmissionHandling.xIXZtvsB.js";function pt(a){let t,e,n,r,l="Email",s,i,o,u,d,E="Password",y,f,B,b,P,L,V,v,j="New user? Sign up here!",O,q;return{c(){t=h("div"),e=h("form"),n=h("div"),r=h("label"),r.textContent=l,s=C(),i=h("input"),o=C(),u=h("div"),d=h("label"),d.textContent=E,y=C(),f=h("input"),B=C(),b=h("button"),P=et("Log in!"),V=C(),v=h("a"),v.textContent=j,this.h()},l(m){t=g(m,"DIV",{class:!0});var _=$(t);e=g(_,"FORM",{});var S=$(e);n=g(S,"DIV",{class:!0});var x=$(n);r=g(x,"LABEL",{for:!0,"data-svelte-h":!0}),U(r)!=="svelte-1p9d3fm"&&(r.textContent=l),s=A(x),i=g(x,"INPUT",{type:!0,id:!0,autocomplete:!0}),x.forEach(k),o=A(S),u=g(S,"DIV",{class:!0});var T=$(u);d=g(T,"LABEL",{for:!0,"data-svelte-h":!0}),U(d)!=="svelte-pepa0a"&&(d.textContent=E),y=A(T),f=g(T,"INPUT",{type:!0,id:!0,autocomplete:!0}),T.forEach(k),B=A(S),b=g(S,"BUTTON",{type:!0});var R=$(b);P=nt(R,"Log in!"),R.forEach(k),S.forEach(k),V=A(_),v=g(_,"A",{class:!0,href:!0,"data-svelte-h":!0}),U(v)!=="svelte-180bc3l"&&(v.textContent=j),_.forEach(k),this.h()},h(){p(r,"for","email"),p(i,"type","email"),p(i,"id","email"),p(i,"autocomplete","on"),p(n,"class","input-container"),p(d,"for","password"),p(f,"type","password"),p(f,"id","password"),p(f,"autocomplete","on"),p(u,"class","input-container"),p(b,"type","submit"),b.disabled=L=!a[2],p(v,"class","page-redirect-link"),p(v,"href","/sign-up"),p(t,"class","page log-in")},m(m,_){K(m,t,_),c(t,e),c(e,n),c(n,r),c(n,s),c(n,i),D(i,a[0]),c(e,o),c(e,u),c(u,d),c(u,y),c(u,f),D(f,a[1]),c(e,B),c(e,b),c(b,P),c(t,V),c(t,v),O||(q=[w(i,"input",a[3]),w(i,"input",a[7]),w(f,"input",a[3]),w(f,"input",a[8]),w(e,"submit",a[4])],O=!0)},p(m,[_]){_&1&&i.value!==m[0]&&D(i,m[0]),_&2&&f.value!==m[1]&&D(f,m[1]),_&4&&L!==(L=!m[2])&&(b.disabled=L)},i:z,o:z,d(m){m&&k(t),O=!1,Z(q)}}}const M="";function dt(a,t,e){let n,r,l,s=!1,i=M;function o(){e(6,i=M)}async function u(y){y.preventDefault(),e(5,s=!0);try{await ft(r,l)}catch(f){console.error("log-in submit error",f,f.stack)}e(5,s=!1)}function d(){r=this.value,e(0,r)}function E(){l=this.value,e(1,l)}return a.$$.update=()=>{a.$$.dirty&99&&e(2,n=r&&l&&!i&&!s)},[r,l,n,o,u,s,i,d,E]}class mt extends H{constructor(t){super(),J(this,t,dt,pt,G,{})}}function _t(a){let t,e;return t=new mt({}),{c(){Q(t.$$.fragment)},l(n){W(t.$$.fragment,n)},m(n,r){X(t,n,r),e=!0},i(n){e||(N(t.$$.fragment,n),e=!0)},o(n){I(t.$$.fragment,n),e=!1},d(n){Y(t,n)}}}function ht(a){let t,e;return t=new ct({}),{c(){Q(t.$$.fragment)},l(n){W(t.$$.fragment,n)},m(n,r){X(t,n,r),e=!0},i(n){e||(N(t.$$.fragment,n),e=!0)},o(n){I(t.$$.fragment,n),e=!1},d(n){Y(t,n)}}}function gt(a){let t,e,n,r;const l=[ht,_t],s=[];function i(o,u){return o[0].pendingAuthCheckStore?0:!o[0].pendingAuthCheckStore&&!o[0].localAuthStateStore?1:-1}return~(t=i(a))&&(e=s[t]=l[t](a)),{c(){e&&e.c(),n=F()},l(o){e&&e.l(o),n=F()},m(o,u){~t&&s[t].m(o,u),K(o,n,u),r=!0},p(o,[u]){let d=t;t=i(o),t!==d&&(e&&(ot(),I(s[d],1,1,()=>{s[d]=null}),rt()),~t?(e=s[t],e||(e=s[t]=l[t](o),e.c()),N(e,1),e.m(n.parentNode,n)):e=null)},i(o){r||(N(e),r=!0)},o(o){I(e),r=!1},d(o){o&&k(n),~t&&s[t].d(o)}}}function bt(a,t,e){const n={firstAuthCheckStore:it,pendingAuthCheckStore:lt,authStateStore:ut},r={};let l={};for(const[s,i]of Object.entries(n))r[s]=i.subscribe(o=>{const u={...l};u[s]=o,e(0,l=u)}),tt(r[s]);return l.pendingAuthCheckStore||at(),a.$$.update=()=>{a.$$.dirty&1&&!l.pendingAuthCheckStore&&l.authStateStore&&st("/home")},[l]}class Ct extends H{constructor(t){super(),J(this,t,bt,gt,G,{})}}export{Ct as component};
