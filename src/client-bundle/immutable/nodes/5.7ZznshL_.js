import{s as he,n as me,r as Pe,e as ye}from"../chunks/scheduler.XwmuOfpH.js";import{S as be,i as ge,g as _,m as R,s as k,h,j as y,n as G,f as C,c as S,x as Q,k as u,a as ve,y as o,A as F,z as B,o as W,e as _e,t as X,b as Ae,d as Y,p as Te,r as we,u as Ce,v as ke,w as Se}from"../chunks/index.BP64-74v.js";import{b as Le,a as Ee,c as Ie,g as De,p as Ve,L as qe}from"../chunks/navigation.29WGVOxU.js";import{b as Be,v as Ne,a as Ue}from"../chunks/constraintValidation.du7N9Ism.js";import{a as Oe}from"../chunks/redirect.WCuc7_wB.js";function je(r){let t,e,s,n,p,i,c,a,m,f,I="Email",H,b,M,w,A,N,D,V,ne="Password",Z,g,x,E,U,J,$,q,ae="Confirm Password",ee,v,te,T,re,K,se,L,ie="Existing User? Log in here!",oe,le;return{c(){t=_("div"),e=_("form"),s=_("p"),n=R(r[6]),p=k(),i=_("div"),c=_("p"),a=R(r[3]),m=k(),f=_("label"),f.textContent=I,H=k(),b=_("input"),M=k(),w=_("div"),A=_("p"),N=R(r[4]),D=k(),V=_("label"),V.textContent=ne,Z=k(),g=_("input"),x=k(),E=_("div"),U=_("p"),J=R(r[5]),$=k(),q=_("label"),q.textContent=ae,ee=k(),v=_("input"),te=k(),T=_("button"),re=R("Sign up!"),se=k(),L=_("a"),L.textContent=ie,this.h()},l(l){t=h(l,"DIV",{class:!0});var d=y(t);e=h(d,"FORM",{});var P=y(e);s=h(P,"P",{class:!0});var ue=y(s);n=G(ue,r[6]),ue.forEach(C),p=S(P),i=h(P,"DIV",{class:!0});var O=y(i);c=h(O,"P",{class:!0});var pe=y(c);a=G(pe,r[3]),pe.forEach(C),m=S(O),f=h(O,"LABEL",{for:!0,"data-svelte-h":!0}),Q(f)!=="svelte-1p9d3fm"&&(f.textContent=I),H=S(O),b=h(O,"INPUT",{id:!0,type:!0}),O.forEach(C),M=S(P),w=h(P,"DIV",{class:!0});var j=y(w);A=h(j,"P",{class:!0});var fe=y(A);N=G(fe,r[4]),fe.forEach(C),D=S(j),V=h(j,"LABEL",{for:!0,"data-svelte-h":!0}),Q(V)!=="svelte-pepa0a"&&(V.textContent=ne),Z=S(j),g=h(j,"INPUT",{id:!0,type:!0}),j.forEach(C),x=S(P),E=h(P,"DIV",{class:!0});var z=y(E);U=h(z,"P",{class:!0});var de=y(U);J=G(de,r[5]),de.forEach(C),$=S(z),q=h(z,"LABEL",{for:!0,"data-svelte-h":!0}),Q(q)!=="svelte-1kqgfb9"&&(q.textContent=ae),ee=S(z),v=h(z,"INPUT",{id:!0,type:!0}),z.forEach(C),te=S(P),T=h(P,"BUTTON",{type:!0});var ce=y(T);re=G(ce,"Sign up!"),ce.forEach(C),P.forEach(C),se=S(d),L=h(d,"A",{class:!0,href:!0,"data-svelte-h":!0}),Q(L)!=="svelte-wkans"&&(L.textContent=ie),d.forEach(C),this.h()},h(){u(s,"class","server-error-response"),u(c,"class","input-error email"),u(f,"for","email"),u(b,"id","email"),u(b,"type","email"),b.disabled=r[7],b.required=!0,u(i,"class","input-container"),u(A,"class","input-error password"),u(V,"for","password"),u(g,"id","password"),u(g,"type","password"),g.disabled=r[7],g.required=!0,u(w,"class","input-container"),u(U,"class","input-error confirm-password"),u(q,"for","confirm-password"),u(v,"id","confirm-password"),u(v,"type","password"),v.disabled=r[7],v.required=!0,u(E,"class","input-container"),u(T,"type","submit"),T.disabled=K=!r[8],e.noValidate=!0,u(L,"class","page-redirect-link"),u(L,"href","/log-in"),u(t,"class","page sign-up")},m(l,d){ve(l,t,d),o(t,e),o(e,s),o(s,n),o(e,p),o(e,i),o(i,c),o(c,a),o(i,m),o(i,f),o(i,H),o(i,b),F(b,r[0]),o(e,M),o(e,w),o(w,A),o(A,N),o(w,D),o(w,V),o(w,Z),o(w,g),F(g,r[1]),o(e,x),o(e,E),o(E,U),o(U,J),o(E,$),o(E,q),o(E,ee),o(E,v),F(v,r[2]),o(e,te),o(e,T),o(T,re),o(t,se),o(t,L),oe||(le=[B(b,"input",r[10].email),B(b,"input",r[11]),B(g,"input",r[10].password),B(g,"input",r[12]),B(v,"input",r[10].confirmPassword),B(v,"input",r[13]),B(e,"submit",r[9])],oe=!0)},p(l,[d]){d&64&&W(n,l[6]),d&8&&W(a,l[3]),d&128&&(b.disabled=l[7]),d&1&&b.value!==l[0]&&F(b,l[0]),d&16&&W(N,l[4]),d&128&&(g.disabled=l[7]),d&2&&g.value!==l[1]&&F(g,l[1]),d&32&&W(J,l[5]),d&128&&(v.disabled=l[7]),d&4&&v.value!==l[2]&&F(v,l[2]),d&256&&K!==(K=!l[8])&&(T.disabled=K)},i:me,o:me,d(l){l&&C(t),oe=!1,Pe(le)}}}function ze(r,t,e){let s,n,p,i,c="",a="",m="",f="",I=!1;async function H(N){N.preventDefault(),e(7,I=!0);const D=await Le.post.signup(n,p);!D.success&&!D.auth?e(6,f=D.error):(Oe.true(),Ee.authedTrue()),e(7,I=!1)}const b={email:()=>{e(6,f=""),e(3,c="")},password:()=>{e(6,f=""),e(4,a="")},confirmPassword:()=>{e(6,f=""),e(5,m="")}};function M(){n=this.value,e(0,n)}function w(){p=this.value,e(1,p)}function A(){i=this.value,e(2,i)}return r.$$.update=()=>{r.$$.dirty&1&&(n!==""?e(3,c=Be(n)):e(3,c="")),r.$$.dirty&2&&(p!==""?e(4,a=Ne(p)):e(4,a="")),r.$$.dirty&6&&(i!==""&&p!==""?e(5,m=Ue(i,p)):e(5,m="")),r.$$.dirty&255&&e(8,s=n&&p&&i&&!c&&!a&&!m&&!f&&!I)},[n,p,i,c,a,m,f,I,s,H,b,M,w,A]}class Fe extends be{constructor(t){super(),ge(this,t,ze,je,he,{})}}function He(r){let t,e;return t=new qe({}),{c(){we(t.$$.fragment)},l(s){Ce(t.$$.fragment,s)},m(s,n){ke(t,s,n),e=!0},i(s){e||(Y(t.$$.fragment,s),e=!0)},o(s){X(t.$$.fragment,s),e=!1},d(s){Se(t,s)}}}function Me(r){let t,e;return t=new Fe({}),{c(){we(t.$$.fragment)},l(s){Ce(t.$$.fragment,s)},m(s,n){ke(t,s,n),e=!0},i(s){e||(Y(t.$$.fragment,s),e=!0)},o(s){X(t.$$.fragment,s),e=!1},d(s){Se(t,s)}}}function Re(r){let t,e,s,n;const p=[Me,He],i=[];function c(a,m){return!a[0].pendingAuthCheckStore&&!a[0].localAuthStateStore?0:1}return t=c(r),e=i[t]=p[t](r),{c(){e.c(),s=_e()},l(a){e.l(a),s=_e()},m(a,m){i[t].m(a,m),ve(a,s,m),n=!0},p(a,[m]){let f=t;t=c(a),t!==f&&(Te(),X(i[f],1,1,()=>{i[f]=null}),Ae(),e=i[t],e||(e=i[t]=p[t](a),e.c()),Y(e,1),e.m(s.parentNode,s))},i(a){n||(Y(e),n=!0)},o(a){X(e),n=!1},d(a){a&&C(s),i[t].d(a)}}}function Ge(r,t,e){const s={pendingAuthCheckStore:Ve,authStateStore:Ee};let n={};for(const[p,i]of Object.entries(s)){const c=i.subscribe(a=>{const m={...n};m[p]=a,e(0,n=m)});ye(c)}return n.pendingAuthCheckStore||Ie(),r.$$.update=()=>{r.$$.dirty&1&&!n.pendingAuthCheckStore&&n.authStateStore&&De("/home")},[n]}class Ye extends be{constructor(t){super(),ge(this,t,Ge,Re,he,{})}}export{Ye as component};
