import{s as Y,n as J,r as ae,e as se}from"../chunks/scheduler.BbOnFq8D.js";import{S as Z,i as x,g as b,m as K,s as $,h as g,j as A,n as Q,f as y,c as E,x as z,k as f,a as ee,y as u,z as P,A as T,o as ie,e as W,t as B,b as le,d as V,p as ue,r as te,u as re,v as ne,w as oe}from"../chunks/index.r4Y_ernq.js";import{c as ce,g as fe,f as pe,p as de,a as me,L as _e}from"../chunks/authState.47O-7Glz.js";import{h as he}from"../chunks/formSubmissionHandling.kn0D7IAQ.js";function be(n){let t,e,r,s,i,o,c,a="Email",d,l,w,v,h,L="Password",q,m,O,k,U,D,j,S,F="New user? Sign up here!",R,M;return{c(){t=b("div"),e=b("form"),r=b("p"),s=K(n[3]),i=$(),o=b("div"),c=b("label"),c.textContent=a,d=$(),l=b("input"),w=$(),v=b("div"),h=b("label"),h.textContent=L,q=$(),m=b("input"),O=$(),k=b("button"),U=K("Log in!"),j=$(),S=b("a"),S.textContent=F,this.h()},l(p){t=g(p,"DIV",{class:!0});var _=A(t);e=g(_,"FORM",{});var C=A(e);r=g(C,"P",{class:!0});var G=A(r);s=Q(G,n[3]),G.forEach(y),i=E(C),o=g(C,"DIV",{class:!0});var I=A(o);c=g(I,"LABEL",{for:!0,"data-svelte-h":!0}),z(c)!=="svelte-1p9d3fm"&&(c.textContent=a),d=E(I),l=g(I,"INPUT",{type:!0,id:!0,autocomplete:!0}),I.forEach(y),w=E(C),v=g(C,"DIV",{class:!0});var N=A(v);h=g(N,"LABEL",{for:!0,"data-svelte-h":!0}),z(h)!=="svelte-pepa0a"&&(h.textContent=L),q=E(N),m=g(N,"INPUT",{type:!0,id:!0,autocomplete:!0}),N.forEach(y),O=E(C),k=g(C,"BUTTON",{type:!0});var H=A(k);U=Q(H,"Log in!"),H.forEach(y),C.forEach(y),j=E(_),S=g(_,"A",{class:!0,href:!0,"data-svelte-h":!0}),z(S)!=="svelte-180bc3l"&&(S.textContent=F),_.forEach(y),this.h()},h(){f(r,"class","server-error-response"),f(c,"for","email"),f(l,"type","email"),f(l,"id","email"),f(l,"autocomplete","on"),l.disabled=n[2],f(o,"class","input-container"),f(h,"for","password"),f(m,"type","password"),f(m,"id","password"),f(m,"autocomplete","on"),m.disabled=n[2],f(v,"class","input-container"),f(k,"type","submit"),k.disabled=D=!n[4],f(S,"class","page-redirect-link"),f(S,"href","/sign-up"),f(t,"class","page log-in")},m(p,_){ee(p,t,_),u(t,e),u(e,r),u(r,s),u(e,i),u(e,o),u(o,c),u(o,d),u(o,l),P(l,n[0]),u(e,w),u(e,v),u(v,h),u(v,q),u(v,m),P(m,n[1]),u(e,O),u(e,k),u(k,U),u(t,j),u(t,S),R||(M=[T(l,"input",n[5]),T(l,"input",n[7]),T(m,"input",n[5]),T(m,"input",n[8]),T(e,"submit",n[6])],R=!0)},p(p,[_]){_&8&&ie(s,p[3]),_&4&&(l.disabled=p[2]),_&1&&l.value!==p[0]&&P(l,p[0]),_&4&&(m.disabled=p[2]),_&2&&m.value!==p[1]&&P(m,p[1]),_&16&&D!==(D=!p[4])&&(k.disabled=D)},i:J,o:J,d(p){p&&y(t),R=!1,ae(M)}}}const X="";function ge(n,t,e){let r,s,i,o=!1,c=X;function a(){e(3,c=X)}async function d(v){v.preventDefault(),e(2,o=!0);let h;try{h=await he(s,i)}catch(L){console.error("log-in submit error",L,L.stack)}h&&e(3,c=h),e(2,o=!1)}function l(){s=this.value,e(0,s)}function w(){i=this.value,e(1,i)}return n.$$.update=()=>{n.$$.dirty&15&&e(4,r=s&&i&&!c&&!o)},[s,i,o,c,r,a,d,l,w]}class ve extends Z{constructor(t){super(),x(this,t,ge,be,Y,{})}}function ke(n){let t,e;return t=new ve({}),{c(){te(t.$$.fragment)},l(r){re(t.$$.fragment,r)},m(r,s){ne(t,r,s),e=!0},i(r){e||(V(t.$$.fragment,r),e=!0)},o(r){B(t.$$.fragment,r),e=!1},d(r){oe(t,r)}}}function Se(n){let t,e;return t=new _e({}),{c(){te(t.$$.fragment)},l(r){re(t.$$.fragment,r)},m(r,s){ne(t,r,s),e=!0},i(r){e||(V(t.$$.fragment,r),e=!0)},o(r){B(t.$$.fragment,r),e=!1},d(r){oe(t,r)}}}function Ce(n){let t,e,r,s;const i=[Se,ke],o=[];function c(a,d){return a[0].pendingAuthCheckStore?0:!a[0].pendingAuthCheckStore&&!a[0].localAuthStateStore?1:-1}return~(t=c(n))&&(e=o[t]=i[t](n)),{c(){e&&e.c(),r=W()},l(a){e&&e.l(a),r=W()},m(a,d){~t&&o[t].m(a,d),ee(a,r,d),s=!0},p(a,[d]){let l=t;t=c(a),t!==l&&(e&&(ue(),B(o[l],1,1,()=>{o[l]=null}),le()),~t?(e=o[t],e||(e=o[t]=i[t](a),e.c()),V(e,1),e.m(r.parentNode,r)):e=null)},i(a){s||(V(e),s=!0)},o(a){B(e),s=!1},d(a){a&&y(r),~t&&o[t].d(a)}}}function ye(n,t,e){const r={firstAuthCheckStore:pe,pendingAuthCheckStore:de,authStateStore:me},s={};let i={};for(const[o,c]of Object.entries(r))s[o]=c.subscribe(a=>{const d={...i};d[o]=a,e(0,i=d)}),se(s[o]);return i.pendingAuthCheckStore||ce(),n.$$.update=()=>{n.$$.dirty&1&&!i.pendingAuthCheckStore&&i.authStateStore&&fe("/home")},[i]}class Le extends Z{constructor(t){super(),x(this,t,ye,Ce,Y,{})}}export{Le as component};
