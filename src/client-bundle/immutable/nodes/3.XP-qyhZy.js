import{s as be,n as te,r as qe,e as Le,b as ke,f as Ue,t as $e}from"../chunks/scheduler.ycOvhNHW.js";import{S as pe,i as me,g as b,h as p,x as J,k as c,a as re,f as E,s as y,m as le,j as q,c as T,n as ie,y as a,z as W,A as K,p as je,t as ne,b as Re,d as se,r as ue,u as ce,v as de,w as fe,o as Be,B as He,e as Fe,C as Ee}from"../chunks/index.5tyFQWbo.js";import{r as De,a as Ce,e as ve,s as Pe,b as he,d as _e,f as Te,h as Ke,c as tt,g as nt,p as st,i as rt,L as at}from"../chunks/homeState.iXkWzTlx.js";import{w as ze}from"../chunks/singletons.RGws6rGo.js";import{v as ot,a as lt,b as it}from"../chunks/constraintValidation.du7N9Ism.js";function ut(n){let e,t='<div class="credentials-search"></div>';return{c(){e=b("div"),e.innerHTML=t,this.h()},l(s){e=p(s,"DIV",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-1rvj1ra"&&(e.innerHTML=t),this.h()},h(){c(e,"class","credentials-main")},m(s,l){re(s,e,l)},p:te,i:te,o:te,d(s){s&&E(e)}}}function ct(n,e,t){let{buttonEnabled:s}=e;return n.$$set=l=>{"buttonEnabled"in l&&t(0,s=l.buttonEnabled)},[s]}class dt extends pe{constructor(e){super(),me(this,e,ct,ut,be,{buttonEnabled:0})}}const ft=()=>{const{subscribe:n,set:e,update:t}=ze([]);return{subscribe:n,set:e,update:t,clear:()=>{e([])}}},et=ft();function Oe(){setTimeout(()=>{De.true(),Ce.authedFalse(),ve.clear()},4e3),ve.set("Session expired, please log-in and try again")}async function bt(n,e,t,s){try{return await Pe("/home/credentials","POST",{name:n,emailUsername:e,password:t,description:s})}catch(l){return console.error(`handleAddCredential catch block: ${l} ${l.stack}`),{success:!1,error:l}}}async function pt(){try{return await Pe("/home/credentials/id-name-set")}catch(n){return console.error(`handleGetIdAndNameSet catch block: ${n} ${n.stack}`),{success:!1,error:n}}}function mt(n){let e,t="Credential Added!";return{c(){e=b("p"),e.textContent=t},l(s){e=p(s,"P",{"data-svelte-h":!0}),J(e)!=="svelte-v034ze"&&(e.textContent=t)},m(s,l){re(s,e,l)},d(s){s&&E(e)}}}function ht(n){let e,t,s="Credential Creator Here",l,i,o,u,r,d="Name",f,_,w,m,C,k="Email/Username",A,h,S,v,g,D="Password",O,L,U,H,G,Y="Description",ae,F,R,x,z,P,V,Q,M=n[6]&&mt();return{c(){e=b("div"),t=b("p"),t.textContent=s,l=y(),M&&M.c(),i=y(),o=b("form"),u=b("div"),r=b("label"),r.textContent=d,f=y(),_=b("input"),w=y(),m=b("div"),C=b("label"),C.textContent=k,A=y(),h=b("input"),S=y(),v=b("div"),g=b("label"),g.textContent=D,O=y(),L=b("input"),U=y(),H=b("div"),G=b("label"),G.textContent=Y,ae=y(),F=b("textarea"),R=y(),x=b("button"),z=le("Create"),this.h()},l(Z){e=p(Z,"DIV",{class:!0});var B=q(e);t=p(B,"P",{"data-svelte-h":!0}),J(t)!=="svelte-1aixee1"&&(t.textContent=s),l=T(B),M&&M.l(B),i=T(B),o=p(B,"FORM",{});var I=q(o);u=p(I,"DIV",{class:!0});var ee=q(u);r=p(ee,"LABEL",{for:!0,"data-svelte-h":!0}),J(r)!=="svelte-1f757gv"&&(r.textContent=d),f=T(ee),_=p(ee,"INPUT",{id:!0,type:!0}),ee.forEach(E),w=T(I),m=p(I,"DIV",{class:!0});var $=q(m);C=p($,"LABEL",{for:!0,"data-svelte-h":!0}),J(C)!=="svelte-p1kt7x"&&(C.textContent=k),A=T($),h=p($,"INPUT",{id:!0,type:!0}),$.forEach(E),S=T(I),v=p(I,"DIV",{class:!0});var X=q(v);g=p(X,"LABEL",{for:!0,"data-svelte-h":!0}),J(g)!=="svelte-1so3zff"&&(g.textContent=D),O=T(X),L=p(X,"INPUT",{id:!0,type:!0}),X.forEach(E),U=T(I),H=p(I,"DIV",{class:!0});var N=q(H);G=p(N,"LABEL",{for:!0,"data-svelte-h":!0}),J(G)!=="svelte-r4xeun"&&(G.textContent=Y),ae=T(N),F=p(N,"TEXTAREA",{id:!0}),q(F).forEach(E),N.forEach(E),R=T(I),x=p(I,"BUTTON",{type:!0});var j=q(x);z=ie(j,"Create"),j.forEach(E),I.forEach(E),B.forEach(E),this.h()},h(){c(r,"for","credential-creator-name"),c(_,"id","credential-creator-name"),c(_,"type","text"),_.required=!0,c(u,"class","credential-creator name container"),c(C,"for","credential-creator-email-username"),c(h,"id","credential-creator-email-username"),c(h,"type","text"),c(m,"class","credential-creator email container"),c(g,"for","credential-creator-password"),c(L,"id","credential-creator-password"),c(L,"type","password"),c(v,"class","credential-creator password"),c(G,"for","credential-creator-description"),c(F,"id","credential-creator-description"),c(H,"class","credential-creator description"),c(x,"type","submit"),x.disabled=P=!n[4],c(e,"class","credentials-creator")},m(Z,B){re(Z,e,B),a(e,t),a(e,l),M&&M.m(e,null),a(e,i),a(e,o),a(o,u),a(u,r),a(u,f),a(u,_),W(_,n[0]),a(o,w),a(o,m),a(m,C),a(m,A),a(m,h),W(h,n[1]),a(o,S),a(o,v),a(v,g),a(v,O),a(v,L),W(L,n[2]),a(o,U),a(o,H),a(H,G),a(H,ae),a(H,F),W(F,n[3]),a(o,R),a(o,x),a(x,z),V||(Q=[K(_,"input",n[10]),K(h,"input",n[11]),K(L,"input",n[12]),K(F,"input",n[13]),K(o,"submit",n[5])],V=!0)},p(Z,[B]){B&1&&_.value!==Z[0]&&W(_,Z[0]),B&2&&h.value!==Z[1]&&W(h,Z[1]),B&4&&L.value!==Z[2]&&W(L,Z[2]),B&8&&W(F,Z[3]),B&16&&P!==(P=!Z[4])&&(x.disabled=P)},i:te,o:te,d(Z){Z&&E(e),M&&M.d(),V=!1,qe(Q)}}}const Ve="";function _t(n,e,t){let s,{buttonEnabled:l}=e,i,o,u,r,d=!1,f=!1;async function _(v){v.preventDefault(),t(8,d=!0);const g=await bt(i,o,u,r);g.success?(et.update(D=>({...D,[g.credentialID]:i})),C(),w(),m(2e3)):("auth"in g&&!g.auth&&Oe(),ve.set(g.error),m(3e3)),t(8,d=!1)}function w(v=2e3){setTimeout(()=>{},v)}function m(v=3e3){t(9,f=!0),setTimeout(()=>{t(9,f=!1)},v)}function C(){t(0,i=Ve),t(1,o=Ve),t(2,u=Ve),t(3,r=Ve)}function k(){i=this.value,t(0,i)}function A(){o=this.value,t(1,o)}function h(){u=this.value,t(2,u)}function S(){r=this.value,t(3,r)}return n.$$set=v=>{"buttonEnabled"in v&&t(7,l=v.buttonEnabled)},n.$$.update=()=>{n.$$.dirty&896&&t(4,s=l&&!d&&!f)},[i,o,u,r,s,_,w,l,d,f,k,A,h,S]}class vt extends pe{constructor(e){super(),me(this,e,_t,ht,be,{buttonEnabled:7})}}function gt(n){let e,t;return e=new vt({props:{buttonEnabled:n[0]}}),{c(){ue(e.$$.fragment)},l(s){ce(e.$$.fragment,s)},m(s,l){de(e,s,l),t=!0},p(s,l){const i={};l&1&&(i.buttonEnabled=s[0]),e.$set(i)},i(s){t||(se(e.$$.fragment,s),t=!0)},o(s){ne(e.$$.fragment,s),t=!1},d(s){fe(e,s)}}}function wt(n){let e,t;return e=new dt({props:{buttonEnabled:n[0]}}),{c(){ue(e.$$.fragment)},l(s){ce(e.$$.fragment,s)},m(s,l){de(e,s,l),t=!0},p(s,l){const i={};l&1&&(i.buttonEnabled=s[0]),e.$set(i)},i(s){t||(se(e.$$.fragment,s),t=!0)},o(s){ne(e.$$.fragment,s),t=!1},d(s){fe(e,s)}}}function Et(n){let e,t,s,l;const i=[wt,gt],o=[];function u(r,d){return r[1].secondaryFocusStore===he.credentials.main?0:r[1].secondaryFocusStore===he.credentials.creator?1:-1}return~(t=u(n))&&(s=o[t]=i[t](n)),{c(){e=b("div"),s&&s.c(),this.h()},l(r){e=p(r,"DIV",{class:!0});var d=q(e);s&&s.l(d),d.forEach(E),this.h()},h(){c(e,"class","credentials container")},m(r,d){re(r,e,d),~t&&o[t].m(e,null),l=!0},p(r,[d]){let f=t;t=u(r),t===f?~t&&o[t].p(r,d):(s&&(je(),ne(o[f],1,1,()=>{o[f]=null}),Re()),~t?(s=o[t],s?s.p(r,d):(s=o[t]=i[t](r),s.c()),se(s,1),s.m(e,null)):s=null)},i(r){l||(se(s),l=!0)},o(r){ne(s),l=!1},d(r){r&&E(e),~t&&o[t].d()}}}function Ct(n,e,t){let{buttonEnabled:s}=e;const l={secondaryFocusStore:_e},i={};let o={};for(const[u,r]of Object.entries(l))i[u]=r.subscribe(d=>{const f={...o};f[u]=d,t(1,o=f)}),Le(i[u]);return n.$$set=u=>{"buttonEnabled"in u&&t(0,s=u.buttonEnabled)},[s,o]}class St extends pe{constructor(e){super(),me(this,e,Ct,Et,be,{buttonEnabled:0})}}async function yt(n,e){try{return await Pe("/home/settings/delete-account","POST",{email:n,password:e})}catch(t){return console.error(`handleDeleteAccount catch block: ${t} ${t.stack}`),{success:!1,error:t}}}async function Tt(n,e){try{return await Pe("/home/settings/new-password","POST",{oldPassword:n,newPassword:e})}catch(t){return console.error(`handleNewPassword catch block: ${t} ${t.stack}`),{success:!1,error:t}}}async function kt(n,e,t){try{return await Pe("/home/settings/new-email","POST",{oldEmail:n,password:e,newEmail:t})}catch(s){return console.error(`handleNewEmail catch block: ${s} ${s.stack}`),{success:!1,error:s}}}async function Dt(){try{return await Pe("/home/settings","GET")}catch(n){return console.error(`handleGetSettingsData catch block: ${n} ${n.stack}`),{success:!1,error:n}}}function Pt(n){let e,t,s="Delete Your Account",l,i,o="Desc Here",u,r,d,f="Email",_,w,m,C,k,A="Password",h,S,v,g,D,O="Confirm Password",L,U,H,G,Y,ae,F,R,x;return{c(){e=b("div"),t=b("h3"),t.textContent=s,l=y(),i=b("p"),i.textContent=o,u=y(),r=b("form"),d=b("label"),d.textContent=f,_=y(),w=b("input"),C=y(),k=b("label"),k.textContent=A,h=y(),S=b("input"),g=y(),D=b("label"),D.textContent=O,L=y(),U=b("input"),G=y(),Y=b("button"),ae=le("Delete"),this.h()},l(z){e=p(z,"DIV",{class:!0});var P=q(e);t=p(P,"H3",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-bjgs3s"&&(t.textContent=s),l=T(P),i=p(P,"P",{class:!0,"data-svelte-h":!0}),J(i)!=="svelte-1tvstg1"&&(i.textContent=o),u=T(P),r=p(P,"FORM",{action:!0,method:!0});var V=q(r);d=p(V,"LABEL",{for:!0,"data-svelte-h":!0}),J(d)!=="svelte-2vstyi"&&(d.textContent=f),_=T(V),w=p(V,"INPUT",{id:!0,name:!0,type:!0}),C=T(V),k=p(V,"LABEL",{for:!0,"data-svelte-h":!0}),J(k)!=="svelte-9e3l82"&&(k.textContent=A),h=T(V),S=p(V,"INPUT",{id:!0,name:!0,type:!0}),g=T(V),D=p(V,"LABEL",{for:!0,"data-svelte-h":!0}),J(D)!=="svelte-14qrn4n"&&(D.textContent=O),L=T(V),U=p(V,"INPUT",{id:!0,name:!0,type:!0}),G=T(V),Y=p(V,"BUTTON",{type:!0});var Q=q(Y);ae=ie(Q,"Delete"),Q.forEach(E),V.forEach(E),P.forEach(E),this.h()},h(){c(t,"class","delete-account header"),c(i,"class","delete-account description"),c(d,"for","delete-account-email"),c(w,"id","delete-account-email"),c(w,"name","email"),c(w,"type","email"),w.disabled=m=!n[0],c(k,"for","delete-account-password"),c(S,"id","delete-account-password"),c(S,"name","password"),c(S,"type","password"),S.disabled=v=!n[0],c(D,"for","delete-account-confirm-password"),c(U,"id","delete-account-confirm-password"),c(U,"name","confirmPassword"),c(U,"type","password"),U.disabled=H=!n[0],c(Y,"type","submit"),Y.disabled=F=!n[4],c(r,"action","/home/settings/delete-account"),c(r,"method","POST"),c(e,"class","delete-account container")},m(z,P){re(z,e,P),a(e,t),a(e,l),a(e,i),a(e,u),a(e,r),a(r,d),a(r,_),a(r,w),W(w,n[1]),a(r,C),a(r,k),a(r,h),a(r,S),W(S,n[2]),a(r,g),a(r,D),a(r,L),a(r,U),W(U,n[3]),a(r,G),a(r,Y),a(Y,ae),R||(x=[K(w,"input",n[8]),K(S,"input",n[9]),K(U,"input",n[10]),K(r,"submit",n[5])],R=!0)},p(z,[P]){P&1&&m!==(m=!z[0])&&(w.disabled=m),P&2&&w.value!==z[1]&&W(w,z[1]),P&1&&v!==(v=!z[0])&&(S.disabled=v),P&4&&S.value!==z[2]&&W(S,z[2]),P&1&&H!==(H=!z[0])&&(U.disabled=H),P&8&&U.value!==z[3]&&W(U,z[3]),P&16&&F!==(F=!z[4])&&(Y.disabled=F)},i:te,o:te,d(z){z&&E(e),R=!1,qe(x)}}}function Nt(n,e,t){let s,{buttonEnabled:l}=e,i,o,u,r=!1;async function d(k){k.preventDefault(),t(6,r=!0);const A=await yt(i,o);A.success?(De.true(),Ce.authedFalse()):"auth"in A&&!A.auth?Oe():(ve.set(A.error),_()),t(6,r=!1)}let f=!1;function _(){t(7,f=!0),setTimeout(()=>{t(7,f=!1)},2e3)}function w(){i=this.value,t(1,i)}function m(){o=this.value,t(2,o)}function C(){u=this.value,t(3,u)}return n.$$set=k=>{"buttonEnabled"in k&&t(0,l=k.buttonEnabled)},n.$$.update=()=>{n.$$.dirty&207&&t(4,s=i&&o&&u&&l&&!r&&!f)},[l,i,o,u,s,d,r,f,w,m,C]}class At extends pe{constructor(e){super(),me(this,e,Nt,Pt,be,{buttonEnabled:0})}}function It(n){let e,t,s="New Password",l,i,o="Desc Here",u,r,d,f,_="Old Password",w,m,C,k,A,h,S,v,g,D="New Password",O,L,U,H,G,Y,ae,F,R,x="Confirm New Password",z,P,V,Q,M,Z,B,I,ee;return{c(){e=b("div"),t=b("h3"),t.textContent=s,l=y(),i=b("p"),i.textContent=o,u=y(),r=b("form"),d=b("div"),f=b("label"),f.textContent=_,w=y(),m=b("input"),k=y(),A=b("p"),h=le(n[4]),S=y(),v=b("div"),g=b("label"),g.textContent=D,O=y(),L=b("input"),H=y(),G=b("p"),Y=le(n[5]),ae=y(),F=b("div"),R=b("label"),R.textContent=x,z=y(),P=b("input"),Q=y(),M=b("button"),Z=le("Set"),this.h()},l($){e=p($,"DIV",{class:!0});var X=q(e);t=p(X,"H3",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-1pzclo9"&&(t.textContent=s),l=T(X),i=p(X,"P",{class:!0,"data-svelte-h":!0}),J(i)!=="svelte-17yatlw"&&(i.textContent=o),u=T(X),r=p(X,"FORM",{});var N=q(r);d=p(N,"DIV",{class:!0});var j=q(d);f=p(j,"LABEL",{for:!0,"data-svelte-h":!0}),J(f)!=="svelte-1dztljq"&&(f.textContent=_),w=T(j),m=p(j,"INPUT",{id:!0,name:!0,type:!0}),j.forEach(E),k=T(N),A=p(N,"P",{class:!0});var oe=q(A);h=ie(oe,n[4]),oe.forEach(E),S=T(N),v=p(N,"DIV",{class:!0});var Se=q(v);g=p(Se,"LABEL",{for:!0,"data-svelte-h":!0}),J(g)!=="svelte-gu95ju"&&(g.textContent=D),O=T(Se),L=p(Se,"INPUT",{id:!0,name:!0,type:!0}),Se.forEach(E),H=T(N),G=p(N,"P",{class:!0});var Ne=q(G);Y=ie(Ne,n[5]),Ne.forEach(E),ae=T(N),F=p(N,"DIV",{class:!0});var ye=q(F);R=p(ye,"LABEL",{for:!0,"data-svelte-h":!0}),J(R)!=="svelte-1w1roi4"&&(R.textContent=x),z=T(ye),P=p(ye,"INPUT",{id:!0,name:!0,type:!0}),ye.forEach(E),Q=T(N),M=p(N,"BUTTON",{type:!0});var Ae=q(M);Z=ie(Ae,"Set"),Ae.forEach(E),N.forEach(E),X.forEach(E),this.h()},h(){c(t,"class","new-password header"),c(i,"class","new-password description"),c(f,"for","new-password-old-password"),c(m,"id","new-password-old-password"),c(m,"name","oldPassword"),c(m,"type","password"),m.disabled=C=!n[0],c(d,"class","new-password-old-password container"),c(A,"class","new-password-new-password error-message"),c(g,"for","new-password-new-password"),c(L,"id","new-password-new-password"),c(L,"name","newPassword"),c(L,"type","password"),L.disabled=U=!n[0],c(v,"class","new-password-new-password container"),c(G,"class","new-password-confirm-password error-message"),c(R,"for","new-password-confirm-password"),c(P,"id","new-password-confirm-password"),c(P,"name","confirmPassword"),c(P,"type","password"),P.disabled=V=!n[0],c(F,"class","new-password-confirm-password container"),c(M,"type","submit"),M.disabled=B=!n[6],c(e,"class","new-password container")},m($,X){re($,e,X),a(e,t),a(e,l),a(e,i),a(e,u),a(e,r),a(r,d),a(d,f),a(d,w),a(d,m),W(m,n[1]),a(r,k),a(r,A),a(A,h),a(r,S),a(r,v),a(v,g),a(v,O),a(v,L),W(L,n[2]),a(r,H),a(r,G),a(G,Y),a(r,ae),a(r,F),a(F,R),a(F,z),a(F,P),W(P,n[3]),a(r,Q),a(r,M),a(M,Z),I||(ee=[K(m,"input",n[11]),K(L,"input",n[12]),K(L,"input",n[7].newPassword),K(P,"input",n[13]),K(P,"input",n[7].confirmPassword),K(r,"submit",n[8])],I=!0)},p($,[X]){X&1&&C!==(C=!$[0])&&(m.disabled=C),X&2&&m.value!==$[1]&&W(m,$[1]),X&16&&Be(h,$[4]),X&1&&U!==(U=!$[0])&&(L.disabled=U),X&4&&L.value!==$[2]&&W(L,$[2]),X&32&&Be(Y,$[5]),X&1&&V!==(V=!$[0])&&(P.disabled=V),X&8&&P.value!==$[3]&&W(P,$[3]),X&64&&B!==(B=!$[6])&&(M.disabled=B)},i:te,o:te,d($){$&&E(e),I=!1,qe(ee)}}}const ge="";function qt(n,e,t){let s,{buttonEnabled:l}=e,i=!1,o,u,r,d=ge,f=ge;function _(){t(4,d=ge)}function w(){t(5,f=ge)}const m={newPassword:()=>{_()},confirmPassword:()=>{w()}};async function C(g){g.preventDefault(),t(9,i=!0);const D=await Tt(o,u);D.success||("auth"in D&&!D.auth?Oe():(ve.set(D.error),A())),D.success&&(De.true(),Ce.authedFalse()),t(9,i=!1)}let k=!1;function A(){t(10,k=!0),setTimeout(()=>{t(10,k=!1)},2e3)}function h(){o=this.value,t(1,o)}function S(){u=this.value,t(2,u)}function v(){r=this.value,t(3,r)}return n.$$set=g=>{"buttonEnabled"in g&&t(0,l=g.buttonEnabled)},n.$$.update=()=>{n.$$.dirty&4&&(u!==ge?t(4,d=ot(u)):t(4,d=ge)),n.$$.dirty&12&&(r!==ge&&u!==ge?t(5,f=lt(r,u)):t(5,f=ge)),n.$$.dirty&1599&&t(6,s=o&&u&&r&&l&&!d&&!f&&!i&&!k)},[l,o,u,r,d,f,s,m,C,i,k,h,S,v]}class Lt extends pe{constructor(e){super(),me(this,e,qt,It,be,{buttonEnabled:0})}}function Vt(n){let e,t,s="Update Account Email",l,i,o="Desc Here",u,r,d,f,_="Current Email",w,m,C,k,A,h,S="Password",v,g,D,O,L,U,H,G,Y,ae="New Email",F,R,x,z,P,V,Q,M,Z;return{c(){e=b("div"),t=b("h3"),t.textContent=s,l=y(),i=b("p"),i.textContent=o,u=y(),r=b("form"),d=b("div"),f=b("label"),f.textContent=_,w=y(),m=b("input"),k=y(),A=b("div"),h=b("label"),h.textContent=S,v=y(),g=b("input"),O=y(),L=b("p"),U=le(n[4]),H=y(),G=b("div"),Y=b("label"),Y.textContent=ae,F=y(),R=b("input"),z=y(),P=b("button"),V=le("Set"),this.h()},l(B){e=p(B,"DIV",{class:!0});var I=q(e);t=p(I,"H3",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-tlkmds"&&(t.textContent=s),l=T(I),i=p(I,"P",{class:!0,"data-svelte-h":!0}),J(i)!=="svelte-npnfgg"&&(i.textContent=o),u=T(I),r=p(I,"FORM",{});var ee=q(r);d=p(ee,"DIV",{class:!0});var $=q(d);f=p($,"LABEL",{for:!0,"data-svelte-h":!0}),J(f)!=="svelte-18m3fc4"&&(f.textContent=_),w=T($),m=p($,"INPUT",{id:!0,type:!0,name:!0}),$.forEach(E),k=T(ee),A=p(ee,"DIV",{class:!0});var X=q(A);h=p(X,"LABEL",{for:!0,"data-svelte-h":!0}),J(h)!=="svelte-1zdtl7"&&(h.textContent=S),v=T(X),g=p(X,"INPUT",{id:!0,type:!0,name:!0}),X.forEach(E),O=T(ee),L=p(ee,"P",{class:!0});var N=q(L);U=ie(N,n[4]),N.forEach(E),H=T(ee),G=p(ee,"DIV",{class:!0});var j=q(G);Y=p(j,"LABEL",{for:!0,"data-svelte-h":!0}),J(Y)!=="svelte-d2nd6i"&&(Y.textContent=ae),F=T(j),R=p(j,"INPUT",{id:!0,type:!0,name:!0}),j.forEach(E),z=T(ee),P=p(ee,"BUTTON",{type:!0});var oe=q(P);V=ie(oe,"Set"),oe.forEach(E),ee.forEach(E),I.forEach(E),this.h()},h(){c(t,"class","update-email header"),c(i,"class","update-email description"),c(f,"for","update-email-current-email"),c(m,"id","update-email-current-email"),c(m,"type","email"),c(m,"name","email"),m.disabled=C=!n[0],c(d,"class","update-email current-email container"),c(h,"for","update-email-password"),c(g,"id","update-email-password"),c(g,"type","password"),c(g,"name","password"),g.disabled=D=!n[0],c(A,"class","update-email password container"),c(L,"class","update-email-new-email error-message"),c(Y,"for","update-email-new-email"),c(R,"id","update-email-new-email"),c(R,"type","email"),c(R,"name","newEmail"),R.disabled=x=!n[0],c(G,"class","update-email new-email container"),c(P,"type","submit"),P.disabled=Q=!n[5],c(e,"class","update-email")},m(B,I){re(B,e,I),a(e,t),a(e,l),a(e,i),a(e,u),a(e,r),a(r,d),a(d,f),a(d,w),a(d,m),W(m,n[1]),a(r,k),a(r,A),a(A,h),a(A,v),a(A,g),W(g,n[2]),a(r,O),a(r,L),a(L,U),a(r,H),a(r,G),a(G,Y),a(G,F),a(G,R),W(R,n[3]),a(r,z),a(r,P),a(P,V),M||(Z=[K(m,"input",n[9]),K(g,"input",n[10]),K(R,"input",n[11]),K(R,"input",n[12]),K(r,"submit",n[6])],M=!0)},p(B,[I]){I&1&&C!==(C=!B[0])&&(m.disabled=C),I&2&&m.value!==B[1]&&W(m,B[1]),I&1&&D!==(D=!B[0])&&(g.disabled=D),I&4&&g.value!==B[2]&&W(g,B[2]),I&16&&Be(U,B[4]),I&1&&x!==(x=!B[0])&&(R.disabled=x),I&8&&R.value!==B[3]&&W(R,B[3]),I&32&&Q!==(Q=!B[5])&&(P.disabled=Q)},i:te,o:te,d(B){B&&E(e),M=!1,qe(Z)}}}const Me="";function Bt(n,e,t){let s,{buttonEnabled:l}=e,i,o,u,r=Me,d=!1;async function f(h){h.preventDefault(),t(7,d=!0);const S=await kt(i,o,u);S.success||("auth"in S&&!S.auth?Oe():(ve.set(S.error),w())),S.success&&(De.true(),Ce.authedFalse()),t(7,d=!1)}let _=!1;function w(){t(8,_=!0),setTimeout(()=>{t(8,_=!1)},2e3)}function m(){i=this.value,t(1,i)}function C(){o=this.value,t(2,o)}function k(){u=this.value,t(3,u)}const A=()=>{t(4,r=Me)};return n.$$set=h=>{"buttonEnabled"in h&&t(0,l=h.buttonEnabled)},n.$$.update=()=>{n.$$.dirty&8&&u!==Me&&t(4,r=it(u)),n.$$.dirty&415&&t(5,s=i&&o&&u&&l&&!r&&!d&&!_)},[l,i,o,u,r,s,f,d,_,m,C,k,A]}class Ft extends pe{constructor(e){super(),me(this,e,Bt,Vt,be,{buttonEnabled:0})}}function Ot(n){let e,t,s="Verify Email",l,i,o,u,r,d,f,_,w,m="Verification Code",C,k,A,h,S,v,g;return{c(){e=b("div"),t=b("h3"),t.textContent=s,l=y(),i=b("p"),o=y(),u=b("button"),r=le("Send Verification Code"),f=y(),_=b("form"),w=b("label"),w.textContent=m,C=y(),k=b("input"),h=y(),S=b("button"),v=le("Verify"),this.h()},l(D){e=p(D,"DIV",{class:!0});var O=q(e);t=p(O,"H3",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-1soy2pv"&&(t.textContent=s),l=T(O),i=p(O,"P",{class:!0}),q(i).forEach(E),o=T(O),u=p(O,"BUTTON",{});var L=q(u);r=ie(L,"Send Verification Code"),L.forEach(E),f=T(O),_=p(O,"FORM",{action:!0,method:!0});var U=q(_);w=p(U,"LABEL",{for:!0,"data-svelte-h":!0}),J(w)!=="svelte-1879wan"&&(w.textContent=m),C=T(U),k=p(U,"INPUT",{id:!0}),h=T(U),S=p(U,"BUTTON",{type:!0});var H=q(S);v=ie(H,"Verify"),H.forEach(E),U.forEach(E),O.forEach(E),this.h()},h(){c(t,"class","verify-email header"),c(i,"class","verify-email description"),u.disabled=d=!n[0],c(w,"for","verify-email-code-input"),c(k,"id","verify-email-code-input"),k.value="verificationCode",k.disabled=A=!n[0],c(S,"type","submit"),S.disabled=g=!n[0],c(_,"action","/home/settings/verify-email"),c(_,"method","POST"),c(e,"class","verify-email container")},m(D,O){re(D,e,O),a(e,t),a(e,l),a(e,i),a(e,o),a(e,u),a(u,r),a(e,f),a(e,_),a(_,w),a(_,C),a(_,k),a(_,h),a(_,S),a(S,v)},p(D,[O]){O&1&&d!==(d=!D[0])&&(u.disabled=d),O&1&&A!==(A=!D[0])&&(k.disabled=A),O&1&&g!==(g=!D[0])&&(S.disabled=g)},i:te,o:te,d(D){D&&E(e)}}}function Ut(n,e,t){let{buttonEnabled:s}=e;return n.$$set=l=>{"buttonEnabled"in l&&t(0,s=l.buttonEnabled)},[s]}class $t extends pe{constructor(e){super(),me(this,e,Ut,Ot,be,{buttonEnabled:0})}}function Ht(n){let e,t,s="Account",l,i,o,u,r,d,f,_,w;return i=new At({props:{buttonEnabled:n[1]}}),u=new Lt({props:{buttonEnabled:n[1]}}),d=new Ft({props:{buttonEnabled:n[1]}}),_=new $t({props:{buttonEnabled:n[1]}}),{c(){e=b("div"),t=b("h2"),t.textContent=s,l=y(),ue(i.$$.fragment),o=y(),ue(u.$$.fragment),r=y(),ue(d.$$.fragment),f=y(),ue(_.$$.fragment),this.h()},l(m){e=p(m,"DIV",{class:!0});var C=q(e);t=p(C,"H2",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-xopwpk"&&(t.textContent=s),l=T(C),ce(i.$$.fragment,C),o=T(C),ce(u.$$.fragment,C),r=T(C),ce(d.$$.fragment,C),f=T(C),ce(_.$$.fragment,C),C.forEach(E),this.h()},h(){c(t,"class","settings-account header"),c(e,"class","settings-account container svelte-15u0fo5")},m(m,C){re(m,e,C),a(e,t),a(e,l),de(i,e,null),a(e,o),de(u,e,null),a(e,r),de(d,e,null),a(e,f),de(_,e,null),n[2](e),w=!0},p(m,[C]){const k={};C&2&&(k.buttonEnabled=m[1]),i.$set(k);const A={};C&2&&(A.buttonEnabled=m[1]),u.$set(A);const h={};C&2&&(h.buttonEnabled=m[1]),d.$set(h);const S={};C&2&&(S.buttonEnabled=m[1]),_.$set(S)},i(m){w||(se(i.$$.fragment,m),se(u.$$.fragment,m),se(d.$$.fragment,m),se(_.$$.fragment,m),w=!0)},o(m){ne(i.$$.fragment,m),ne(u.$$.fragment,m),ne(d.$$.fragment,m),ne(_.$$.fragment,m),w=!1},d(m){m&&E(e),fe(i),fe(u),fe(d),fe(_),n[2](null)}}}function Mt(n,e,t){let{accountContainer:s}=e,{buttonEnabled:l}=e;function i(o){ke[o?"unshift":"push"](()=>{s=o,t(0,s)})}return n.$$set=o=>{"accountContainer"in o&&t(0,s=o.accountContainer),"buttonEnabled"in o&&t(1,l=o.buttonEnabled)},[s,l,i]}class jt extends pe{constructor(e){super(),me(this,e,Mt,Ht,be,{accountContainer:0,buttonEnabled:1})}}function Rt(n){let e,t='<h2 class="settings-preferences header">Preferences</h2> <div class="settings-preferences general container svelte-svrx2m"></div> <div class="settings-preferences theme container svelte-svrx2m"></div> <div class="settings-preferences font container svelte-svrx2m"></div>';return{c(){e=b("div"),e.innerHTML=t,this.h()},l(s){e=p(s,"DIV",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-h1uwy9"&&(e.innerHTML=t),this.h()},h(){c(e,"class","settings-preferences container svelte-svrx2m")},m(s,l){re(s,e,l),n[2](e)},p:te,i:te,o:te,d(s){s&&E(e),n[2](null)}}}function zt(n,e,t){let{preferencesContainer:s}=e,{buttonEnabled:l}=e;function i(o){ke[o?"unshift":"push"](()=>{s=o,t(0,s)})}return n.$$set=o=>{"preferencesContainer"in o&&t(0,s=o.preferencesContainer),"buttonEnabled"in o&&t(1,l=o.buttonEnabled)},[s,l,i]}class Gt extends pe{constructor(e){super(),me(this,e,zt,Rt,be,{preferencesContainer:0,buttonEnabled:1})}}function Qt(n){let e,t='<h2 class="settings-faq header">FAQ</h2> <div class="settings-faq about container svelte-iytjw8"></div> <div class="settings-faq is-it-safe container svelte-iytjw8"></div>';return{c(){e=b("div"),e.innerHTML=t,this.h()},l(s){e=p(s,"DIV",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-7lj1tf"&&(e.innerHTML=t),this.h()},h(){c(e,"class","settings-faq container svelte-iytjw8")},m(s,l){re(s,e,l),n[2](e)},p:te,i:te,o:te,d(s){s&&E(e),n[2](null)}}}function Xt(n,e,t){let{faqContainer:s}=e,{buttonEnabled:l}=e;function i(o){ke[o?"unshift":"push"](()=>{s=o,t(0,s)})}return n.$$set=o=>{"faqContainer"in o&&t(0,s=o.faqContainer),"buttonEnabled"in o&&t(1,l=o.buttonEnabled)},[s,l,i]}class Yt extends pe{constructor(e){super(),me(this,e,Xt,Qt,be,{faqContainer:0,buttonEnabled:1})}}const Jt=()=>{const{subscribe:n,update:e,set:t}=ze({});return{subscribe:n,update:e,set:t,clear:()=>{t({})}}},Kt=()=>{const{subscribe:n,set:e}=ze(!1);return{subscribe:n,true:()=>{e(!0)},false:()=>{e(!1)}}},Wt=Jt(),Ie=Kt();function Zt(n){let e,t,s,l,i,o,u,r,d,f,_,w;function m(v){n[7](v)}let C={buttonEnabled:n[0]};n[2]!==void 0&&(C.accountContainer=n[2]),t=new jt({props:C}),ke.push(()=>He(t,"accountContainer",m));function k(v){n[8](v)}let A={buttonEnabled:n[0]};n[3]!==void 0&&(A.preferencesContainer=n[3]),i=new Gt({props:A}),ke.push(()=>He(i,"preferencesContainer",k));function h(v){n[9](v)}let S={buttonEnabled:n[0]};return n[4]!==void 0&&(S.faqContainer=n[4]),r=new Yt({props:S}),ke.push(()=>He(r,"faqContainer",h)),{c(){e=b("div"),ue(t.$$.fragment),l=y(),ue(i.$$.fragment),u=y(),ue(r.$$.fragment),this.h()},l(v){e=p(v,"DIV",{class:!0});var g=q(e);ce(t.$$.fragment,g),l=T(g),ce(i.$$.fragment,g),u=T(g),ce(r.$$.fragment,g),g.forEach(E),this.h()},h(){c(e,"class","settings container svelte-1ruvxrw")},m(v,g){re(v,e,g),de(t,e,null),a(e,l),de(i,e,null),a(e,u),de(r,e,null),n[10](e),f=!0,_||(w=K(e,"scroll",n[5]),_=!0)},p(v,[g]){const D={};g&1&&(D.buttonEnabled=v[0]),!s&&g&4&&(s=!0,D.accountContainer=v[2],Ue(()=>s=!1)),t.$set(D);const O={};g&1&&(O.buttonEnabled=v[0]),!o&&g&8&&(o=!0,O.preferencesContainer=v[3],Ue(()=>o=!1)),i.$set(O);const L={};g&1&&(L.buttonEnabled=v[0]),!d&&g&16&&(d=!0,L.faqContainer=v[4],Ue(()=>d=!1)),r.$set(L)},i(v){f||(se(t.$$.fragment,v),se(i.$$.fragment,v),se(r.$$.fragment,v),f=!0)},o(v){ne(t.$$.fragment,v),ne(i.$$.fragment,v),ne(r.$$.fragment,v),f=!1},d(v){v&&E(e),fe(t),fe(i),fe(r),n[10](null),_=!1,w()}}}function xt(n,e,t){let{buttonEnabled:s}=e;const l={primaryFocusStore:Te,secondaryFocusStore:_e,settingsNavClickedStore:Ie},i={};let o={};for(const[h,S]of Object.entries(l))i[h]=S.subscribe(v=>{const g={...o};g[h]=v,t(6,o=g)}),Le(i[h]);let u,r,d,f;async function _(){await $e();const h={[he.settings.account]:r.offsetTop,[he.settings.preferences]:d.offsetTop,[he.settings.faq]:f.offsetTop};t(1,u.scrollTop=h[o.secondaryFocusStore]-h[he.settings.account],u),await $e(),Ie.false()}async function w(){if(o.settingsNavClickedStore)return;await $e();const{scrollTop:h}=u;h>=0&&h<r.offsetTop?_e.settings.account():h>r.offsetTop&&h<=d.offsetTop?_e.settings.preferences():_e.settings.faq()}function m(h){r=h,t(2,r)}function C(h){d=h,t(3,d)}function k(h){f=h,t(4,f)}function A(h){ke[h?"unshift":"push"](()=>{u=h,t(1,u)})}return n.$$set=h=>{"buttonEnabled"in h&&t(0,s=h.buttonEnabled)},n.$$.update=()=>{n.$$.dirty&64&&o.settingsNavClickedStore&&_()},[s,u,r,d,f,w,o,m,C,k,A]}class en extends pe{constructor(e){super(),me(this,e,xt,Zt,be,{buttonEnabled:0})}}function We(n){let e,t="X",s,l,i,o=n[0].errorMessageStore+"",u,r,d;return{c(){e=b("button"),e.textContent=t,s=y(),l=b("div"),i=b("p"),u=le(o),this.h()},l(f){e=p(f,"BUTTON",{"data-svelte-h":!0}),J(e)!=="svelte-1ivnvv7"&&(e.textContent=t),s=T(f),l=p(f,"DIV",{class:!0});var _=q(l);i=p(_,"P",{class:!0});var w=q(i);u=ie(w,o),w.forEach(E),_.forEach(E),this.h()},h(){c(i,"class","error-message"),c(l,"class","error-popup container")},m(f,_){re(f,e,_),re(f,s,_),re(f,l,_),a(l,i),a(i,u),r||(d=K(e,"click",n[1]),r=!0)},p(f,_){_&1&&o!==(o=f[0].errorMessageStore+"")&&Be(u,o)},d(f){f&&(E(e),E(s),E(l)),r=!1,d()}}}function tn(n){let e,t=n[0].errorMessageStore&&We(n);return{c(){t&&t.c(),e=Fe()},l(s){t&&t.l(s),e=Fe()},m(s,l){t&&t.m(s,l),re(s,e,l)},p(s,[l]){s[0].errorMessageStore?t?t.p(s,l):(t=We(s),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:te,o:te,d(s){s&&E(e),t&&t.d(s)}}}function nn(n,e,t){const s={errorMessageStore:ve},l={};let i={};for(const[u,r]of Object.entries(s))l[u]=r.subscribe(d=>{const f={...i};f[u]=d,t(0,i=f)}),Le(l[u]);function o(){s.errorMessageStore.clear()}return[i,o]}class sn extends pe{constructor(e){super(),me(this,e,nn,tn,be,{})}}function Ze(n){let e,t,s,l,i;return{c(){e=b("button"),t=le("Back to main"),this.h()},l(o){e=p(o,"BUTTON",{class:!0});var u=q(e);t=ie(u,"Back to main"),u.forEach(E),this.h()},h(){c(e,"class","credentials-main button"),e.disabled=s=!n[3]},m(o,u){re(o,e,u),a(e,t),l||(i=K(e,"click",n[5].credentials.main),l=!0)},p(o,u){u&8&&s!==(s=!o[3])&&(e.disabled=s)},d(o){o&&E(e),l=!1,i()}}}function rn(n){let e,t;return e=new St({props:{buttonEnabled:n[3]}}),{c(){ue(e.$$.fragment)},l(s){ce(e.$$.fragment,s)},m(s,l){de(e,s,l),t=!0},p(s,l){const i={};l&8&&(i.buttonEnabled=s[3]),e.$set(i)},i(s){t||(se(e.$$.fragment,s),t=!0)},o(s){ne(e.$$.fragment,s),t=!1},d(s){fe(e,s)}}}function an(n){let e,t;return e=new en({props:{buttonEnabled:n[3]}}),{c(){ue(e.$$.fragment)},l(s){ce(e.$$.fragment,s)},m(s,l){de(e,s,l),t=!0},p(s,l){const i={};l&8&&(i.buttonEnabled=s[3]),e.$set(i)},i(s){t||(se(e.$$.fragment,s),t=!0)},o(s){ne(e.$$.fragment,s),t=!1},d(s){fe(e,s)}}}function on(n){let e,t,s,l,i,o,u,r,d,f,_,w,m,C,k,A,h,S,v="Settings",g,D,O,L,U,H,G,Y,ae,F,R,x,z,P,V,Q,M,Z,B;t=new sn({});let I=n[0].secondaryFocusStore!==he.credentials.main&&Ze(n);const ee=[an,rn],$=[];function X(N,j){return N[0].primaryFocusStore===Ke.settings?0:N[0].primaryFocusStore===Ke.credentials?1:-1}return~(V=X(n))&&(Q=$[V]=ee[V](n)),{c(){e=b("div"),ue(t.$$.fragment),s=y(),l=b("nav"),i=b("div"),o=b("button"),u=le("Log out"),d=y(),f=b("div"),I&&I.c(),_=y(),w=b("div"),m=b("button"),C=le("New Credentials"),A=y(),h=b("div"),S=b("h1"),S.textContent=v,g=y(),D=b("button"),O=le("Account"),U=y(),H=b("button"),G=le("Preferences"),ae=y(),F=b("button"),R=le("FAQ"),z=y(),P=b("main"),Q&&Q.c(),this.h()},l(N){e=p(N,"DIV",{class:!0});var j=q(e);ce(t.$$.fragment,j),s=T(j),l=p(j,"NAV",{});var oe=q(l);i=p(oe,"DIV",{class:!0});var Se=q(i);o=p(Se,"BUTTON",{class:!0});var Ne=q(o);u=ie(Ne,"Log out"),Ne.forEach(E),Se.forEach(E),d=T(oe),f=p(oe,"DIV",{class:!0});var ye=q(f);I&&I.l(ye),ye.forEach(E),_=T(oe),w=p(oe,"DIV",{class:!0});var Ae=q(w);m=p(Ae,"BUTTON",{class:!0});var Ge=q(m);C=ie(Ge,"New Credentials"),Ge.forEach(E),Ae.forEach(E),A=T(oe),h=p(oe,"DIV",{class:!0});var we=q(h);S=p(we,"H1",{class:!0,"data-svelte-h":!0}),J(S)!=="svelte-d985ew"&&(S.textContent=v),g=T(we),D=p(we,"BUTTON",{class:!0});var Qe=q(D);O=ie(Qe,"Account"),Qe.forEach(E),U=T(we),H=p(we,"BUTTON",{class:!0});var Xe=q(H);G=ie(Xe,"Preferences"),Xe.forEach(E),ae=T(we),F=p(we,"BUTTON",{class:!0});var Ye=q(F);R=ie(Ye,"FAQ"),Ye.forEach(E),we.forEach(E),oe.forEach(E),z=T(j),P=p(j,"MAIN",{});var Je=q(P);Q&&Q.l(Je),Je.forEach(E),j.forEach(E),this.h()},h(){c(o,"class","log-out"),o.disabled=r=n[1]||n[2],c(i,"class","profile container"),c(f,"class","credentials-main button container"),c(m,"class","credentials-creator button svelte-qi1hey"),m.disabled=k=!n[3],Ee(m,"selected",n[4].creator),c(w,"class","credentials-creator button container"),c(S,"class","settings header"),c(D,"class","settings-account button svelte-qi1hey"),D.disabled=L=!n[3],Ee(D,"selected",n[4].account),c(H,"class","settings-preferences button svelte-qi1hey"),H.disabled=Y=!n[3],Ee(H,"selected",n[4].preferences),c(F,"class","settings-faq button svelte-qi1hey"),F.disabled=x=!n[3],Ee(F,"selected",n[4].faq),c(h,"class","settings-button container"),c(e,"class","page home")},m(N,j){re(N,e,j),de(t,e,null),a(e,s),a(e,l),a(l,i),a(i,o),a(o,u),a(l,d),a(l,f),I&&I.m(f,null),a(l,_),a(l,w),a(w,m),a(m,C),a(l,A),a(l,h),a(h,S),a(h,g),a(h,D),a(D,O),a(h,U),a(h,H),a(H,G),a(h,ae),a(h,F),a(F,R),a(e,z),a(e,P),~V&&$[V].m(P,null),M=!0,Z||(B=[K(o,"click",n[5].logout),K(m,"click",n[5].credentials.creator),K(D,"click",n[5].settings.account),K(H,"click",n[5].settings.preferences),K(F,"click",n[5].settings.faq)],Z=!0)},p(N,[j]){(!M||j&6&&r!==(r=N[1]||N[2]))&&(o.disabled=r),N[0].secondaryFocusStore!==he.credentials.main?I?I.p(N,j):(I=Ze(N),I.c(),I.m(f,null)):I&&(I.d(1),I=null),(!M||j&8&&k!==(k=!N[3]))&&(m.disabled=k),(!M||j&16)&&Ee(m,"selected",N[4].creator),(!M||j&8&&L!==(L=!N[3]))&&(D.disabled=L),(!M||j&16)&&Ee(D,"selected",N[4].account),(!M||j&8&&Y!==(Y=!N[3]))&&(H.disabled=Y),(!M||j&16)&&Ee(H,"selected",N[4].preferences),(!M||j&8&&x!==(x=!N[3]))&&(F.disabled=x),(!M||j&16)&&Ee(F,"selected",N[4].faq);let oe=V;V=X(N),V===oe?~V&&$[V].p(N,j):(Q&&(je(),ne($[oe],1,1,()=>{$[oe]=null}),Re()),~V?(Q=$[V],Q?Q.p(N,j):(Q=$[V]=ee[V](N),Q.c()),se(Q,1),Q.m(P,null)):Q=null)},i(N){M||(se(t.$$.fragment,N),se(Q),M=!0)},o(N){ne(t.$$.fragment,N),ne(Q),M=!1},d(N){N&&E(e),fe(t),I&&I.d(),~V&&$[V].d(),Z=!1,qe(B)}}}function ln(n,e,t){let s,l;const i={primaryFocusStore:Te,secondaryFocusStore:_e,errorMessageStore:ve},o={};let u={};for(const[w,m]of Object.entries(i))o[w]=m.subscribe(C=>{const k={...u};k[w]=C,t(0,u=k)}),Le(o[w]);let r=!1,d=!1;const f={credentials:{main:()=>{Te.credentials(),_e.credentials.main()},creator:()=>{Te.credentials(),_e.credentials.creator()}},settings:{account:()=>{Ie.true(),Te.settings(),_e.settings.account()},preferences:()=>{Ie.true(),Te.settings(),_e.settings.preferences()},faq:()=>{Ie.true(),Te.settings(),_e.settings.faq()}},logout:async()=>{t(1,r=!0);const w=await Pe("/home/log-out","POST");!w.success&&!("auth"in w)?(ve.set(w.error),_()):(De.true(),Ce.authedFalse()),t(1,r=!1)}};function _(){t(2,d=!0),setTimeout(()=>{t(2,d=!1)},2e3)}return n.$$.update=()=>{n.$$.dirty&1&&t(4,s={creator:u.secondaryFocusStore===he.credentials.creator,account:u.secondaryFocusStore===he.settings.account,preferences:u.secondaryFocusStore===he.settings.preferences,faq:u.secondaryFocusStore===he.settings.faq}),n.$$.dirty&2&&t(3,l=!r)},[u,r,d,l,s,f]}class un extends pe{constructor(e){super(),me(this,e,ln,on,be,{})}}const xe={settings:async()=>{const n=await Dt();if(console.log("settings init state result: ",n),!n.success){if("auth"in n&&!n.auth){De.true(),Ce.authedFalse();return}ve.set(n.error);return}Wt.set(n.settings)},idAndNameSet:async()=>{const n=await pt();if(console.log("idAndNameSet init state result: ",n),!n){if("auth"in n&&!n.auth){De.true(),Ce.authedFalse();return}ve.set(n.error);return}const e={};for(const t of n.idAndNameSet)e[t.credential_id]=t.credential_name;et.set(e)}};function cn(n){let e,t;return e=new at({}),{c(){ue(e.$$.fragment)},l(s){ce(e.$$.fragment,s)},m(s,l){de(e,s,l),t=!0},i(s){t||(se(e.$$.fragment,s),t=!0)},o(s){ne(e.$$.fragment,s),t=!1},d(s){fe(e,s)}}}function dn(n){let e,t;return e=new un({}),{c(){ue(e.$$.fragment)},l(s){ce(e.$$.fragment,s)},m(s,l){de(e,s,l),t=!0},i(s){t||(se(e.$$.fragment,s),t=!0)},o(s){ne(e.$$.fragment,s),t=!1},d(s){fe(e,s)}}}function fn(n){let e,t,s,l;const i=[dn,cn],o=[];function u(r,d){return!r[0].pendingAuthCheckStore&&r[0].authStateStore&&!r[1]?0:1}return e=u(n),t=o[e]=i[e](n),{c(){t.c(),s=Fe()},l(r){t.l(r),s=Fe()},m(r,d){o[e].m(r,d),re(r,s,d),l=!0},p(r,[d]){let f=e;e=u(r),e!==f&&(je(),ne(o[f],1,1,()=>{o[f]=null}),Re(),t=o[e],t||(t=o[e]=i[e](r),t.c()),se(t,1),t.m(s.parentNode,s))},i(r){l||(se(t),l=!0)},o(r){ne(t),l=!1},d(r){r&&E(s),o[e].d(r)}}}function bn(n,e,t){const s={pendingAuthCheckStore:st,authStateStore:Ce,redirectToHomeStore:rt},l={};let i={};for(const[r,d]of Object.entries(s))l[r]=d.subscribe(f=>{const _={...i};_[r]=f,t(0,i=_)}),Le(l[r]);!i.pendingAuthCheckStore&&!i.redirectToHomeStore&&tt(),s.redirectToHomeStore.false();let o=!1;async function u(){t(1,o=!0),await xe.settings(),await xe.idAndNameSet(),t(1,o=!1)}return n.$$.update=()=>{n.$$.dirty&1&&!i.pendingAuthCheckStore&&i.authStateStore&&u(),n.$$.dirty&1&&!i.pendingAuthCheckStore&&!i.authStateStore&&nt("/log-in")},[i,o]}class gn extends pe{constructor(e){super(),me(this,e,bn,fn,be,{})}}export{gn as component};
