import{s as K,n as $,b as ue,f as we,e as Se,t as Ie,r as Ge}from"../chunks/scheduler.ycOvhNHW.js";import{S as W,i as X,g as w,h as L,x as ee,k as S,a as U,f as m,j as q,p as Ce,t as E,b as ye,d as H,r as R,u as Y,v as G,w as J,s as B,c as z,y as g,z as Le,A as le,m as ie,n as ae,B as oe,o as ze,e as Me}from"../chunks/index.sSTwxT2d.js";import{b as Je,a as Ue,r as Ke,c as We,g as Xe,p as Ze,d as xe,L as et}from"../chunks/authState.C8gL6B-P.js";import{w as Qe}from"../chunks/singletons.mB0iziAd.js";function tt(s){let e,n='<div class="credentials-search"></div>';return{c(){e=w("div"),e.innerHTML=n,this.h()},l(t){e=L(t,"DIV",{class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-1rvj1ra"&&(e.innerHTML=n),this.h()},h(){S(e,"class","credentials-main")},m(t,r){U(t,e,r)},p:$,i:$,o:$,d(t){t&&m(e)}}}function nt(s,e,n){let{pendingLogout:t}=e;return s.$$set=r=>{"pendingLogout"in r&&n(0,t=r.pendingLogout)},[t]}class st extends W{constructor(e){super(),X(this,e,nt,tt,K,{pendingLogout:0})}}function rt(s){let e,n='<form action="/new-credentials" method="POST"></form>';return{c(){e=w("div"),e.innerHTML=n,this.h()},l(t){e=L(t,"DIV",{class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-14exx1w"&&(e.innerHTML=n),this.h()},h(){S(e,"class","credentials-creator")},m(t,r){U(t,e,r)},p:$,i:$,o:$,d(t){t&&m(e)}}}function ot(s,e,n){let{pendingLogout:t}=e;return s.$$set=r=>{"pendingLogout"in r&&n(0,t=r.pendingLogout)},[t]}class it extends W{constructor(e){super(),X(this,e,ot,rt,K,{pendingLogout:0})}}const Q=Object.freeze({credentials:"credentials",settings:"settings"}),v=Object.freeze({credentials:Object.freeze({main:"main",creator:"creator"}),settings:Object.freeze({account:"account",preferences:"preferences",faq:"faq"})});function at(s){let e,n;return e=new it({props:{pendingLogout:s[1]}}),{c(){R(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,r){G(e,t,r),n=!0},p(t,r){const o={};r&2&&(o.pendingLogout=t[1]),e.$set(o)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){J(e,t)}}}function ct(s){let e,n;return e=new st({props:{pendingLogout:s[1]}}),{c(){R(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,r){G(e,t,r),n=!0},p(t,r){const o={};r&2&&(o.pendingLogout=t[1]),e.$set(o)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){J(e,t)}}}function lt(s){let e,n,t,r;const o=[ct,at],i=[];function f(a,c){return a[0]===v.credentials.main?0:a[0]===v.credentials.creator?1:-1}return~(n=f(s))&&(t=i[n]=o[n](s)),{c(){e=w("div"),t&&t.c(),this.h()},l(a){e=L(a,"DIV",{class:!0});var c=q(e);t&&t.l(c),c.forEach(m),this.h()},h(){S(e,"class","credentials container")},m(a,c){U(a,e,c),~n&&i[n].m(e,null),r=!0},p(a,[c]){let l=n;n=f(a),n===l?~n&&i[n].p(a,c):(t&&(Ce(),E(i[l],1,1,()=>{i[l]=null}),ye()),~n?(t=i[n],t?t.p(a,c):(t=i[n]=o[n](a),t.c()),H(t,1),t.m(e,null)):t=null)},i(a){r||(H(t),r=!0)},o(a){E(t),r=!1},d(a){a&&m(e),~n&&i[n].d()}}}function ut(s,e,n){let{secondaryFocus:t}=e,{pendingLogout:r}=e;return s.$$set=o=>{"secondaryFocus"in o&&n(0,t=o.secondaryFocus),"pendingLogout"in o&&n(1,r=o.pendingLogout)},[t,r]}class ft extends W{constructor(e){super(),X(this,e,ut,lt,K,{secondaryFocus:0,pendingLogout:1})}}function dt(s){let e,n='<h3 class="delete-account header">Delete Your Account</h3> <p class="delete-account description"></p> <form action="/home/settings/delete-account" method="POST"><label for="delete-account-email">Email</label> <input id="delete-account-email" value="email" type="email"/> <label for="delete-account-password">Password</label> <input id="delete-account-password" value="password" type="password"/> <label for="delete-account-confirm-password">Confirm Password</label> <input id="delete-account-confirm-password" value="confirmPassword" type="password"/> <button type="submit">Delete Your Account</button></form>';return{c(){e=w("div"),e.innerHTML=n,this.h()},l(t){e=L(t,"DIV",{class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-1h04upb"&&(e.innerHTML=n),this.h()},h(){S(e,"class","delete-account container")},m(t,r){U(t,e,r)},p:$,i:$,o:$,d(t){t&&m(e)}}}function gt(s,e,n){let{pendingLogout:t}=e;return s.$$set=r=>{"pendingLogout"in r&&n(0,t=r.pendingLogout)},[t]}class pt extends W{constructor(e){super(),X(this,e,gt,dt,K,{pendingLogout:0})}}function mt(s){let e,n='<h3 class="new-password header">New Password</h3> <p class="new-password description"></p> <form action="/home/settings/new-password" method="POST"><label for="new-password-old-password">Old Password</label> <input id="new-password-old-password" value="oldPassword" type="password"/> <label for="new-password-new-password">New Password</label> <input id="new-password-password" value="newPassword" type="password"/> <label for="new-password-confirm-password">Confirm New Password</label> <input id="new-password-confirm-password" value="confirmPassword" type="password"/> <button type="submit">Set New Password</button></form>';return{c(){e=w("div"),e.innerHTML=n,this.h()},l(t){e=L(t,"DIV",{class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-19lnczp"&&(e.innerHTML=n),this.h()},h(){S(e,"class","new-password container")},m(t,r){U(t,e,r)},p:$,i:$,o:$,d(t){t&&m(e)}}}function ht(s,e,n){let{pendingLogout:t}=e;return s.$$set=r=>{"pendingLogout"in r&&n(0,t=r.pendingLogout)},[t]}class _t extends W{constructor(e){super(),X(this,e,ht,mt,K,{pendingLogout:0})}}function bt(s){let e,n='<h3 class="verify-email header">Verify Email</h3> <p class="verify-email description"></p> <button>Send Verification Code</button> <form action="/home/settings/verify-email" method="POST"><label for="verify-email-code-input">Verification Code</label> <input id="verify-email-code-input" value="verificationCode"/></form>';return{c(){e=w("div"),e.innerHTML=n,this.h()},l(t){e=L(t,"DIV",{class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-1wrv2fe"&&(e.innerHTML=n),this.h()},h(){S(e,"class","verify-email container")},m(t,r){U(t,e,r)},p:$,i:$,o:$,d(t){t&&m(e)}}}function vt(s,e,n){let{pendingLogout:t}=e;return s.$$set=r=>{"pendingLogout"in r&&n(0,t=r.pendingLogout)},[t]}class wt extends W{constructor(e){super(),X(this,e,vt,bt,K,{pendingLogout:0})}}function Lt(s){let e,n,t="Account",r,o,i,f,a,c,l;return o=new pt({props:{pendingLogout:s[1]}}),f=new _t({props:{pendingLogout:s[1]}}),c=new wt({props:{pendingLogout:s[1]}}),{c(){e=w("div"),n=w("h2"),n.textContent=t,r=B(),R(o.$$.fragment),i=B(),R(f.$$.fragment),a=B(),R(c.$$.fragment),this.h()},l(d){e=L(d,"DIV",{class:!0});var h=q(e);n=L(h,"H2",{class:!0,"data-svelte-h":!0}),ee(n)!=="svelte-xopwpk"&&(n.textContent=t),r=z(h),Y(o.$$.fragment,h),i=z(h),Y(f.$$.fragment,h),a=z(h),Y(c.$$.fragment,h),h.forEach(m),this.h()},h(){S(n,"class","settings-account header"),S(e,"class","settings-account container svelte-1lhfk67")},m(d,h){U(d,e,h),g(e,n),g(e,r),G(o,e,null),g(e,i),G(f,e,null),g(e,a),G(c,e,null),s[2](e),l=!0},p(d,[h]){const F={};h&2&&(F.pendingLogout=d[1]),o.$set(F);const T={};h&2&&(T.pendingLogout=d[1]),f.$set(T);const M={};h&2&&(M.pendingLogout=d[1]),c.$set(M)},i(d){l||(H(o.$$.fragment,d),H(f.$$.fragment,d),H(c.$$.fragment,d),l=!0)},o(d){E(o.$$.fragment,d),E(f.$$.fragment,d),E(c.$$.fragment,d),l=!1},d(d){d&&m(e),J(o),J(f),J(c),s[2](null)}}}function St(s,e,n){let{accountContainer:t}=e,{pendingLogout:r}=e;function o(i){ue[i?"unshift":"push"](()=>{t=i,n(0,t)})}return s.$$set=i=>{"accountContainer"in i&&n(0,t=i.accountContainer),"pendingLogout"in i&&n(1,r=i.pendingLogout)},[t,r,o]}class Ct extends W{constructor(e){super(),X(this,e,St,Lt,K,{accountContainer:0,pendingLogout:1})}}function yt(s){let e,n='<h2 class="settings-preferences header">Preferences</h2> <div class="settings-preferences general container svelte-svrx2m"></div> <div class="settings-preferences theme container svelte-svrx2m"></div> <div class="settings-preferences font container svelte-svrx2m"></div>';return{c(){e=w("div"),e.innerHTML=n,this.h()},l(t){e=L(t,"DIV",{class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-h1uwy9"&&(e.innerHTML=n),this.h()},h(){S(e,"class","settings-preferences container svelte-svrx2m")},m(t,r){U(t,e,r),s[2](e)},p:$,i:$,o:$,d(t){t&&m(e),s[2](null)}}}function kt(s,e,n){let{preferencesContainer:t}=e,{pendingLogout:r}=e;function o(i){ue[i?"unshift":"push"](()=>{t=i,n(0,t)})}return s.$$set=i=>{"preferencesContainer"in i&&n(0,t=i.preferencesContainer),"pendingLogout"in i&&n(1,r=i.pendingLogout)},[t,r,o]}class $t extends W{constructor(e){super(),X(this,e,kt,yt,K,{preferencesContainer:0,pendingLogout:1})}}function Tt(s){let e,n='<h2 class="settings-faq header">FAQ</h2> <div class="settings-faq about container svelte-iytjw8"></div> <div class="settings-faq is-it-safe container svelte-iytjw8"></div>';return{c(){e=w("div"),e.innerHTML=n,this.h()},l(t){e=L(t,"DIV",{class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-7lj1tf"&&(e.innerHTML=n),this.h()},h(){S(e,"class","settings-faq container svelte-iytjw8")},m(t,r){U(t,e,r),s[2](e)},p:$,i:$,o:$,d(t){t&&m(e),s[2](null)}}}function qt(s,e,n){let{faqContainer:t}=e,{pendingLogout:r}=e;function o(i){ue[i?"unshift":"push"](()=>{t=i,n(0,t)})}return s.$$set=i=>{"faqContainer"in i&&n(0,t=i.faqContainer),"pendingLogout"in i&&n(1,r=i.pendingLogout)},[t,r,o]}class Et extends W{constructor(e){super(),X(this,e,qt,Tt,K,{faqContainer:0,pendingLogout:1})}}const Ht=()=>{const{subscribe:s,set:e}=Qe(v.settings.account);return{subscribe:s,account:()=>{e(v.settings.account)},preferences:()=>{e(v.settings.preferences)},faq:()=>{e(v.settings.faq)}}},Ft=()=>{const{subscribe:s,set:e}=Qe(!1);return{subscribe:s,true:()=>{e(!0)},false:()=>{e(!1)}}},Re=Ht(),Ye=Ft();function Pt(s){let e,n,t,r,o,i,f,a,c,l,d,h;function F(u){s[8](u)}let T={pendingLogout:s[0]};s[2]!==void 0&&(T.accountContainer=s[2]),n=new Ct({props:T}),ue.push(()=>Le(n,"accountContainer",F));function M(u){s[9](u)}let N={pendingLogout:s[0]};s[3]!==void 0&&(N.preferencesContainer=s[3]),o=new $t({props:N}),ue.push(()=>Le(o,"preferencesContainer",M));function P(u){s[10](u)}let p={pendingLogout:s[0]};return s[4]!==void 0&&(p.faqContainer=s[4]),a=new Et({props:p}),ue.push(()=>Le(a,"faqContainer",P)),{c(){e=w("div"),R(n.$$.fragment),r=B(),R(o.$$.fragment),f=B(),R(a.$$.fragment),this.h()},l(u){e=L(u,"DIV",{class:!0});var _=q(e);Y(n.$$.fragment,_),r=z(_),Y(o.$$.fragment,_),f=z(_),Y(a.$$.fragment,_),_.forEach(m),this.h()},h(){S(e,"class","settings container svelte-3os9or")},m(u,_){U(u,e,_),G(n,e,null),g(e,r),G(o,e,null),g(e,f),G(a,e,null),s[11](e),l=!0,d||(h=le(e,"scroll",s[5]),d=!0)},p(u,[_]){const V={};_&1&&(V.pendingLogout=u[0]),!t&&_&4&&(t=!0,V.accountContainer=u[2],we(()=>t=!1)),n.$set(V);const te={};_&1&&(te.pendingLogout=u[0]),!i&&_&8&&(i=!0,te.preferencesContainer=u[3],we(()=>i=!1)),o.$set(te);const k={};_&1&&(k.pendingLogout=u[0]),!c&&_&16&&(c=!0,k.faqContainer=u[4],we(()=>c=!1)),a.$set(k)},i(u){l||(H(n.$$.fragment,u),H(o.$$.fragment,u),H(a.$$.fragment,u),l=!0)},o(u){E(n.$$.fragment,u),E(o.$$.fragment,u),E(a.$$.fragment,u),l=!1},d(u){u&&m(e),J(n),J(o),J(a),s[11](null),d=!1,h()}}}function Vt(s,e,n){let{setFocus:t}=e,{pendingLogout:r}=e;const o={settingsSecondaryFocusStore:Re,settingsHasScrolledStore:Ye},i={};let f={};for(const[p,u]of Object.entries(o))i[p]=u.subscribe(_=>{const V={...f};V[p]=_,n(7,f=V)}),Se(i[p]);let a,c,l,d;async function h(){if(await Ie(),!a||!c||!l||!d)return;const p={[v.settings.account]:c.offsetTop,[v.settings.preferences]:l.offsetTop,[v.settings.faq]:d.offsetTop};n(1,a.scrollTop=p[f.settingsSecondaryFocusStore]-p[v.settings.account],a)}async function F(){if(await Ie(),!a||!c||!l||!d)return;const p={[v.settings.account]:c.offsetTop,[v.settings.preferences]:l.offsetTop,[v.settings.faq]:d.offsetTop},{scrollTop:u}=a;o.settingsHasScrolledStore.true(),u>=0&&u<p[v.settings.account]?t({primary:Q.settings,secondary:v.settings.account}):u>p[v.settings.account]&&u<=p[v.settings.preferences]?t({primary:Q.settings,secondary:v.settings.preferences}):t({primary:Q.settings,secondary:v.settings.faq})}function T(p){c=p,n(2,c)}function M(p){l=p,n(3,l)}function N(p){d=p,n(4,d)}function P(p){ue[p?"unshift":"push"](()=>{a=p,n(1,a)})}return s.$$set=p=>{"setFocus"in p&&n(6,t=p.setFocus),"pendingLogout"in p&&n(0,r=p.pendingLogout)},s.$$.update=()=>{s.$$.dirty&128&&(f.settingsHasScrolledStore||h())},[r,a,c,l,d,F,t,f,T,M,N,P]}class At extends W{constructor(e){super(),X(this,e,Vt,Pt,K,{setFocus:6,pendingLogout:0})}}function Ne(s){let e,n;return{c(){e=w("p"),n=ie(s[3]),this.h()},l(t){e=L(t,"P",{class:!0});var r=q(e);n=ae(r,s[3]),r.forEach(m),this.h()},h(){S(e,"class","error-message")},m(t,r){U(t,e,r),g(e,n)},p(t,r){r&8&&ze(n,t[3])},d(t){t&&m(e)}}}function je(s){let e,n,t,r;return{c(){e=w("button"),n=ie("Back to main"),this.h()},l(o){e=L(o,"BUTTON",{class:!0});var i=q(e);n=ae(i,"Back to main"),i.forEach(m),this.h()},h(){S(e,"class","credentials-main button"),e.disabled=s[4]},m(o,i){U(o,e,i),g(e,n),t||(r=le(e,"click",s[13]),t=!0)},p(o,i){i&16&&(e.disabled=o[4])},d(o){o&&m(e),t=!1,r()}}}function Dt(s){let e,n;return e=new At({props:{pendingLogout:s[4],setFocus:s[11]}}),{c(){R(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,r){G(e,t,r),n=!0},p(t,r){const o={};r&16&&(o.pendingLogout=t[4]),e.$set(o)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){J(e,t)}}}function Ot(s){let e,n;return e=new ft({props:{pendingLogout:s[4]}}),{c(){R(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,r){G(e,t,r),n=!0},p(t,r){const o={};r&16&&(o.pendingLogout=t[4]),e.$set(o)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){J(e,t)}}}function It(s){let e,n,t,r,o,i,f=s[0].currAuthEmailCensoredStore+"",a,c,l,d,h,F,T,M,N,P,p,u,_,V,te="Settings",k,y,ce,fe,Z,me,he,x,_e,be,de,A,D,j,ve,ke,O=s[3]&&Ne(s),I=s[2]!==v.credentials.main&&je(s);const $e=[Ot,Dt],ne=[];function Te(b,C){return b[1]===Q.credentials?0:b[1]===Q.settings?1:-1}return~(A=Te(s))&&(D=ne[A]=$e[A](s)),{c(){e=w("div"),n=w("div"),O&&O.c(),t=B(),r=w("nav"),o=w("div"),i=w("h1"),a=ie(f),c=B(),l=w("button"),d=ie("Log out"),F=B(),T=w("div"),I&&I.c(),M=B(),N=w("div"),P=w("button"),p=ie("New Credentials+"),u=B(),_=w("div"),V=w("h1"),V.textContent=te,k=B(),y=w("button"),ce=ie("Account"),fe=B(),Z=w("button"),me=ie("Preferences"),he=B(),x=w("button"),_e=ie("FAQ"),be=B(),de=w("main"),D&&D.c(),this.h()},l(b){e=L(b,"DIV",{class:!0});var C=q(e);n=L(C,"DIV",{class:!0});var ge=q(n);O&&O.l(ge),ge.forEach(m),t=z(C),r=L(C,"NAV",{});var se=q(r);o=L(se,"DIV",{class:!0});var pe=q(o);i=L(pe,"H1",{class:!0});var qe=q(i);a=ae(qe,f),qe.forEach(m),c=z(pe),l=L(pe,"BUTTON",{class:!0});var Ee=q(l);d=ae(Ee,"Log out"),Ee.forEach(m),pe.forEach(m),F=z(se),T=L(se,"DIV",{class:!0});var He=q(T);I&&I.l(He),He.forEach(m),M=z(se),N=L(se,"DIV",{class:!0});var Fe=q(N);P=L(Fe,"BUTTON",{class:!0});var Pe=q(P);p=ae(Pe,"New Credentials+"),Pe.forEach(m),Fe.forEach(m),u=z(se),_=L(se,"DIV",{class:!0});var re=q(_);V=L(re,"H1",{class:!0,"data-svelte-h":!0}),ee(V)!=="svelte-d985ew"&&(V.textContent=te),k=z(re),y=L(re,"BUTTON",{class:!0});var Ve=q(y);ce=ae(Ve,"Account"),Ve.forEach(m),fe=z(re),Z=L(re,"BUTTON",{class:!0});var Ae=q(Z);me=ae(Ae,"Preferences"),Ae.forEach(m),he=z(re),x=L(re,"BUTTON",{class:!0});var De=q(x);_e=ae(De,"FAQ"),De.forEach(m),re.forEach(m),se.forEach(m),be=z(C),de=L(C,"MAIN",{});var Oe=q(de);D&&D.l(Oe),Oe.forEach(m),C.forEach(m),this.h()},h(){S(n,"class","error-message container"),S(i,"class","censored-email"),S(l,"class","log-out"),l.disabled=h=s[4]||s[5],S(o,"class","profile container"),S(T,"class","credentials-main button container"),S(P,"class","credentials-creator button svelte-qi1hey"),P.disabled=s[4],oe(P,"selected",s[9]),S(N,"class","credentials-creator button container"),S(V,"class","settings header"),S(y,"class","settings-account button svelte-qi1hey"),y.disabled=s[4],oe(y,"selected",s[8]),S(Z,"class","settings-preferences button svelte-qi1hey"),Z.disabled=s[4],oe(Z,"selected",s[7]),S(x,"class","settings-faq button svelte-qi1hey"),x.disabled=s[4],oe(x,"selected",s[6]),S(_,"class","settings-button container"),S(e,"class","page home")},m(b,C){U(b,e,C),g(e,n),O&&O.m(n,null),g(e,t),g(e,r),g(r,o),g(o,i),g(i,a),g(o,c),g(o,l),g(l,d),g(r,F),g(r,T),I&&I.m(T,null),g(r,M),g(r,N),g(N,P),g(P,p),g(r,u),g(r,_),g(_,V),g(_,k),g(_,y),g(y,ce),g(_,fe),g(_,Z),g(Z,me),g(_,he),g(_,x),g(x,_e),g(e,be),g(e,de),~A&&ne[A].m(de,null),j=!0,ve||(ke=[le(l,"click",s[12]),le(P,"click",s[14]),le(y,"click",s[15]),le(Z,"click",s[16]),le(x,"click",s[17])],ve=!0)},p(b,[C]){b[3]?O?O.p(b,C):(O=Ne(b),O.c(),O.m(n,null)):O&&(O.d(1),O=null),(!j||C&1)&&f!==(f=b[0].currAuthEmailCensoredStore+"")&&ze(a,f),(!j||C&48&&h!==(h=b[4]||b[5]))&&(l.disabled=h),b[2]!==v.credentials.main?I?I.p(b,C):(I=je(b),I.c(),I.m(T,null)):I&&(I.d(1),I=null),(!j||C&16)&&(P.disabled=b[4]),(!j||C&512)&&oe(P,"selected",b[9]),(!j||C&16)&&(y.disabled=b[4]),(!j||C&256)&&oe(y,"selected",b[8]),(!j||C&16)&&(Z.disabled=b[4]),(!j||C&128)&&oe(Z,"selected",b[7]),(!j||C&16)&&(x.disabled=b[4]),(!j||C&64)&&oe(x,"selected",b[6]);let ge=A;A=Te(b),A===ge?~A&&ne[A].p(b,C):(D&&(Ce(),E(ne[ge],1,1,()=>{ne[ge]=null}),ye()),~A?(D=ne[A],D?D.p(b,C):(D=ne[A]=$e[A](b),D.c()),H(D,1),D.m(de,null)):D=null)},i(b){j||(H(D),j=!0)},o(b){E(D),j=!1},d(b){b&&m(e),O&&O.d(),I&&I.d(),~A&&ne[A].d(),ve=!1,Ge(ke)}}}const Be="",Mt=2e3;function Nt(s,e,n){let t,r,o,i,f=Be;const a={currAuthEmailCensoredStore:Je,settingsSecondaryFocusStore:Re,settingsHasScrolledStore:Ye},c={};let l={};for(const[k,y]of Object.entries(a))c[k]=y.subscribe(ce=>{const fe={...l};fe[k]=ce,n(0,l=fe)}),Se(c[k]);let d=Q.credentials,h=v.credentials.main;function F({primary:k,secondary:y}){if(k in Q&&y in v[k])n(1,d=k),n(2,h=y);else throw new Error("Invalid setFocus args",`Primary: ${k} Secondary: ${y}`)}let T=!1,M=!1;function N(){n(5,M=!0),setTimeout(()=>{n(5,M=!1)},Mt)}async function P(){n(4,T=!0);let k,y;try{k=await(await fetch("/home/log-out",{method:"POST"})).json()}catch(ce){y=ce}if(y){console.error("handleLogout: ",y,y.stack),n(3,f=`Fatal ${y}`),N();return}k.success?(n(3,f=Be),Ue.authedFalse(),Ke.true()):(n(3,f=k.error?k.error:"Server Error"),N()),n(4,T=!1)}const p=()=>{a.settingsHasScrolledStore.false(),F({primary:Q.credentials,secondary:v.credentials.main})},u=()=>{a.settingsHasScrolledStore.false(),F({primary:Q.credentials,secondary:v.credentials.creator})},_=()=>{a.settingsHasScrolledStore.false(),F({primary:Q.settings,secondary:v.settings.account})},V=()=>{a.settingsHasScrolledStore.false(),F({primary:Q.settings,secondary:v.settings.preferences})},te=()=>{a.settingsHasScrolledStore.false(),F({primary:Q.settings,secondary:v.settings.faq})};return s.$$.update=()=>{s.$$.dirty&7&&d===Q.settings&&!l.settingsHasScrolledStore&&a.settingsSecondaryFocusStore[h](),s.$$.dirty&4&&n(9,t=h===v.credentials.creator),s.$$.dirty&4&&n(8,r=h===v.settings.account),s.$$.dirty&4&&n(7,o=h===v.settings.preferences),s.$$.dirty&4&&n(6,i=h===v.settings.faq)},[l,d,h,f,T,M,i,o,r,t,a,F,P,p,u,_,V,te]}class jt extends W{constructor(e){super(),X(this,e,Nt,It,K,{})}}function Bt(s){let e,n;return e=new et({}),{c(){R(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,r){G(e,t,r),n=!0},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){J(e,t)}}}function zt(s){let e,n;return e=new jt({}),{c(){R(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,r){G(e,t,r),n=!0},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){J(e,t)}}}function Ut(s){let e,n,t,r;const o=[zt,Bt],i=[];function f(a,c){return!a[0].pendingAuthCheckStore&&a[0].authStateStore?0:1}return e=f(s),n=i[e]=o[e](s),{c(){n.c(),t=Me()},l(a){n.l(a),t=Me()},m(a,c){i[e].m(a,c),U(a,t,c),r=!0},p(a,[c]){let l=e;e=f(a),e!==l&&(Ce(),E(i[l],1,1,()=>{i[l]=null}),ye(),n=i[e],n||(n=i[e]=o[e](a),n.c()),H(n,1),n.m(t.parentNode,t))},i(a){r||(H(n),r=!0)},o(a){E(n),r=!1},d(a){a&&m(t),i[e].d(a)}}}function Qt(s,e,n){const t={pendingAuthCheckStore:Ze,authStateStore:Ue,redirectToHomeStore:xe},r={};let o={};for(const[i,f]of Object.entries(t))r[i]=f.subscribe(a=>{const c={...o};c[i]=a,n(0,o=c)}),Se(r[i]);return!o.pendingAuthCheckStore&&!o.redirectToHomeStore&&We(),t.redirectToHomeStore.false(),s.$$.update=()=>{s.$$.dirty&1&&!o.pendingAuthCheckStore&&!o.authStateStore&&Xe("/log-in")},[o]}class Kt extends W{constructor(e){super(),X(this,e,Qt,Ut,K,{})}}export{Kt as component};
