import{a as t,b as s,d as o}from"./authState.ultGfI7G.js";async function l(i,n){const r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)};return await(await fetch(i,r)).json()}async function d(i,n){let r,e;try{r=await l("/log-in",{email:i,password:n})}catch(a){e=a}if(e&&(console.error("handleLoginRequest error",e,e.stack),t.authedFalse(),s.clearEmail(),o.false()),r.error)return t.authedFalse(),s.clearEmail(),o.false(),r.error;r.success&&(t.authedTrue(),s.setEmail(r.email),o.true())}async function h(i,n,r){let e,a;try{e=await l("/sign-up",{email:i,password:n,confirmPassword:r})}catch(u){a=u}if(a&&(console.error("handleSignupRequest error",a,a.stack),t.authedFalse(),s.clearEmail(),o.false()),e.error)return t.authedFalse(),s.clearEmail(),o.false(),e.error;e.success&&(t.authedTrue(),s.setEmail(e.email),o.true())}export{h as a,d as h};
