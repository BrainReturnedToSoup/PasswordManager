import{k as d,w as n}from"./singletons.RGws6rGo.js";import{s as f,n as o}from"./scheduler.ycOvhNHW.js";import{S as g,i as h,g as p,h as m,x as b,a as S,f as _}from"./index.5tyFQWbo.js";const A=d("goto");function y(t){let e,s="Loading Page";return{c(){e=p("div"),e.textContent=s},l(r){e=m(r,"DIV",{"data-svelte-h":!0}),b(e)!=="svelte-9c5yrp"&&(e.textContent=s)},m(r,u){S(r,e,u)},p:o,i:o,o,d(r){r&&_(e)}}}class E extends g{constructor(e){super(),h(this,e,null,y,f,{})}}async function F(t,e,s){const r={method:e};return s&&(r.headers={"Content-Type":"application/json"},r.body=JSON.stringify(s)),await(await fetch(t,r)).json()}const T=()=>{const{subscribe:t,set:e}=n(!1);return{subscribe:t,pendingTrue:()=>{e(!0)},pendingFalse:()=>{e(!1)},reset:()=>{e(!1)}}},k=()=>{const{subscribe:t,set:e}=n(!1);return{subscribe:t,authedTrue:()=>{e(!0)},authedFalse:()=>{e(!1)},reset:()=>{e(!1)}}},x=()=>{const{subscribe:t,set:e}=n(!1);return{subscribe:t,true:()=>{e(!0)},false:()=>{e(!1)}}},C=()=>{const{subscribe:t,set:e}=n(!1);return{subscribe:t,true:()=>{e(!0)},false:()=>{e(!1)}}},l=T(),i=k(),R=x(),H=C(),M=async()=>{l.pendingTrue();let t,e;try{t=await F("/auth-state","GET")}catch(s){console.error(`checkAuth catch block: ${s} ${s.stack}`),e=s}e&&i.authedFalse(),t.success&&t.auth?i.authedTrue():i.authedFalse(),l.pendingFalse()},c=Object.freeze({credentials:"credentials",settings:"settings"}),a=Object.freeze({credentials:Object.freeze({main:"main",creator:"creator"}),settings:Object.freeze({account:"account",preferences:"preferences",faq:"faq"})}),j=()=>{const{subscribe:t,set:e}=n(c.credentials);return{subscribe:t,credentials:()=>{e(c.credentials)},settings:()=>{e(c.settings)},reset:()=>{e(c.credentials)}}},q=()=>{const{subscribe:t,set:e}=n(a.credentials.main);return{subscribe:t,credentials:{main:()=>{e(a.credentials.main)},creator:()=>{e(a.credentials.creator)}},settings:{account:()=>{e(a.settings.account)},preferences:()=>{e(a.settings.preferences)},faq:()=>{e(a.settings.faq)}},reset:()=>{e(a.credentials.main)}}},v=()=>{const{subscribe:t,set:e}=n(null);return{subscribe:t,set:e,clear:()=>{e(null)}}},$=j(),D=q(),G=v();export{E as L,i as a,a as b,M as c,D as d,G as e,$ as f,A as g,c as h,R as i,l as p,H as r,F as s};
