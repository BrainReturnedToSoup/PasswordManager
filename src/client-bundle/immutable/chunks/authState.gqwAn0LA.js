import{k as l,w as o}from"./singletons.bGHRn_L6.js";import{s as i,n as r}from"./scheduler.BbOnFq8D.js";import{S as h,i as f,g as d,h as g,x as p,a as S,f as m}from"./index.r4Y_ernq.js";const w=l("goto");function _(t){let e,s="Loading Page";return{c(){e=d("div"),e.textContent=s},l(a){e=g(a,"DIV",{"data-svelte-h":!0}),p(e)!=="svelte-9c5yrp"&&(e.textContent=s)},m(a,u){S(a,e,u)},p:r,i:r,o:r,d(a){a&&m(e)}}}class y extends h{constructor(e){super(),f(this,e,null,_,i,{})}}const k=()=>{const{subscribe:t,set:e}=o(!1);return{subscribe:t,checkTrue:()=>{e(!0)},checkFalse:()=>{e(!1)},reset:()=>{e(!1)}}},A=()=>{const{subscribe:t,set:e}=o(!1);return{subscribe:t,pendingTrue:()=>{e(!0)},pendingFalse:()=>{e(!1)},reset:()=>{e(!1)}}},C=()=>{const{subscribe:t,set:e}=o(!1);return{subscribe:t,authedTrue:()=>{e(!0)},authedFalse:()=>{e(!1)},reset:()=>{e(!1)}}},T=k(),c=A(),n=C(),b=async()=>await(await fetch("/auth-state")).json().auth,q=async()=>{c.pendingTrue();let t,e;try{t=await b()}catch(s){e=s}e?(console.log("checkAuth Request Error",e,e.stack),n.authedFalse()):t?n.authedTrue():n.authedFalse(),c.pendingFalse()};export{y as L,n as a,q as c,T as f,w as g,c as p};
