import{a,b as s,d as t}from"./authState.jdjan_4n.js";async function n(o,u){const e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)};return await(await fetch(o,e)).json()}async function l(o,u){let e,r;try{e=await n("/log-in",{email:o,password:u})}catch(c){r=c}if(r)return console.error("handleLoginRequest error",r,r.stack),a.authedFalse(),s.clearEmail(),t.false(),r;if(!e.success&&e.error)return a.authedFalse(),s.clearEmail(),t.false(),e.error;(e.success||!e.success&&e.auth)&&(a.authedTrue(),s.setEmail(e.email),t.true())}async function h(o,u){let e,r;try{e=await n("/sign-up",{email:o,password:u})}catch(c){r=c}if(r)return console.error("handleSignupRequest error",r,r.stack),a.authedFalse(),s.clearEmail(),t.false(),r;if(!e.success&&e.error)return a.authedFalse(),s.clearEmail(),t.false(),e.error;(e.success||!e.success&&e.auth)&&(a.authedTrue(),s.setEmail(e.email),t.true())}export{h as a,l as h};
