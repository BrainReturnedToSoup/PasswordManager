import{s as l,n as o}from"./scheduler.XwmuOfpH.js";import{S as h,i as d,g,h as p,x as f,a as m,f as S}from"./index.BP64-74v.js";import{w as u,k as y}from"./singletons.oUhOjixv.js";function _(t){let e,a="Loading Page";return{c(){e=g("div"),e.textContent=a},l(s){e=p(s,"DIV",{"data-svelte-h":!0}),f(e)!=="svelte-9c5yrp"&&(e.textContent=a)},m(s,n){m(s,e,n)},p:o,i:o,o,d(s){s&&S(e)}}}class F extends h{constructor(e){super(),d(this,e,null,_,l,{})}}const w=()=>{const{subscribe:t,set:e}=u(!1);return{subscribe:t,pendingTrue:()=>{e(!0)},pendingFalse:()=>{e(!1)},reset:()=>{e(!1)}}},T=()=>{const{subscribe:t,set:e}=u(!1);return{subscribe:t,authedTrue:()=>{e(!0)},authedFalse:()=>{e(!1)},reset:()=>{e(!1)}}},c=w(),i=T();async function r(t,e,a){const s={method:e};a&&(s.headers={"Content-Type":"application/json"},s.body=JSON.stringify(a));try{return await(await fetch(t,s)).json()}catch(n){return{success:!1,error:n}}}const b={get:{check:async()=>await r("/auth-state","GET")},post:{login:async(t,e)=>await r("/log-in","POST",{email:t,password:e}),signup:async(t,e)=>await r("/sign-up","POST",{email:t,password:e}),logout:async()=>await r("/home/log-out","POST")}},O=async()=>{c.pendingTrue();const t=await b.get.check();t.success&&t.auth?i.authedTrue():i.authedFalse(),c.pendingFalse()},P=y("goto");export{F as L,i as a,b,O as c,P as g,c as p,r as s};
