import{a as s,b as t,d as o}from"./authState.mnAURLlg.js";async function n(u,c){const r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)};return await(await fetch(u,r)).json()}async function h(u,c){let r,e;try{r=await n("/log-in",{email:u,password:c})}catch(a){e=a}if(e)return console.error("handleLoginRequest error",e,e.stack),s.authedFalse(),t.clearEmail(),o.false(),e;if(!r.success&&r.error)return s.authedFalse(),t.clearEmail(),o.false(),r.error;(r.success||!r.success&&r.auth)&&(s.authedTrue(),t.setEmail(r.email),o.true())}async function d(u,c,r){let e,a;try{e=await n("/sign-up",{email:u,password:c,confirmPassword:r})}catch(i){a=i}if(a)return console.error("handleSignupRequest error",a,a.stack),s.authedFalse(),t.clearEmail(),o.false(),a;if(!e.success&&e.error)return s.authedFalse(),t.clearEmail(),o.false(),e.error;(e.success||!e.success&&e.auth)&&(s.authedTrue(),t.setEmail(e.email),o.true())}export{d as a,h};
