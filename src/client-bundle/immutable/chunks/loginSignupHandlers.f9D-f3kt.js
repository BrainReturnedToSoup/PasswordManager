import{a as t,b as s,d as o}from"./authState.C8gL6B-P.js";async function i(l,n){const r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)};return await(await fetch(l,r)).json()}async function d(l,n){let r,e;try{r=await i("/log-in",{email:l,password:n})}catch(a){e=a}if(e&&(console.error("handleLoginRequest error",e,e.stack),t.authedFalse(),s.clearEmail(),o.false()),r.success)t.authedTrue(),s.setEmail(r.email),o.true();else return t.authedFalse(),s.clearEmail(),o.false(),r.error?r.error:"Server Error"}async function h(l,n,r){let e,a;try{e=await i("/sign-up",{email:l,password:n,confirmPassword:r})}catch(u){a=u}if(a&&(console.error("handleSignupRequest error",a,a.stack),t.authedFalse(),s.clearEmail(),o.false()),e.success)t.authedTrue(),s.setEmail(e.email),o.true();else return t.authedFalse(),s.clearEmail(),o.false(),e.error?e.error:"Server Error"}export{h as a,d as h};
