import{k as u,w as c}from"./singletons.63aaN14W.js";import{s as i,n}from"./scheduler.BbOnFq8D.js";import{S as h,i as d,g as f,h as p,x as g,a as m,f as S}from"./index.r4Y_ernq.js";const b=u("goto");function _(t){let e,s="Loading Page";return{c(){e=f("div"),e.textContent=s},l(a){e=p(a,"DIV",{"data-svelte-h":!0}),g(e)!=="svelte-9c5yrp"&&(e.textContent=s)},m(a,l){m(a,e,l)},p:n,i:n,o:n,d(a){a&&S(e)}}}class w extends h{constructor(e){super(),d(this,e,null,_,i,{})}}const x=()=>{const{subscribe:t,set:e}=c(!1);return{subscribe:t,pendingTrue:()=>{e(!0)},pendingFalse:()=>{e(!1)},reset:()=>{e(!1)}}},k=()=>{const{subscribe:t,set:e}=c(!1);return{subscribe:t,authedTrue:()=>{e(!0)},authedFalse:()=>{e(!1)},reset:()=>{e(!1)}}},r=x(),o=k(),v=async()=>(await(await fetch("/auth-state")).json()).auth,F=async()=>{r.pendingTrue();try{await v()?o.authedTrue():o.authedFalse()}catch(t){console.log("checkAuth Request Error",t,t.stack),o.authedFalse()}finally{r.pendingFalse()}};export{w as L,o as a,F as c,b as g,r as p};
