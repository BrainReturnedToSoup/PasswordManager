import{k as u,w as a}from"./singletons._DhEapdS.js";import{s as d,n as o}from"./scheduler.ycOvhNHW.js";import{S as h,i as f,g as m,h as g,x as p,a as S,f as b}from"./index.b1LXnWHE.js";const F=u("goto");function _(t){let e,r="Loading Page";return{c(){e=m("div"),e.textContent=r},l(s){e=g(s,"DIV",{"data-svelte-h":!0}),p(e)!=="svelte-9c5yrp"&&(e.textContent=r)},m(s,l){S(s,e,l)},p:o,i:o,o,d(s){s&&b(e)}}}class L extends h{constructor(e){super(),f(this,e,null,_,d,{})}}const A=()=>{const{subscribe:t,set:e}=a(!1);return{subscribe:t,pendingTrue:()=>{e(!0)},pendingFalse:()=>{e(!1)},reset:()=>{e(!1)}}},C=()=>{const{subscribe:t,set:e}=a(!1);return{subscribe:t,authedTrue:()=>{e(!0)},authedFalse:()=>{e(!1)},reset:()=>{e(!1)}}},E=()=>{const{subscribe:t,set:e}=a("");return{subscribe:t,setEmail:r=>{e(r)},clearEmail:()=>{e("")}}},T=()=>{const{subscribe:t,set:e}=a(!1);return{subscribe:t,true:()=>{e(!0)},false:()=>{e(!1)}}},x=()=>{const{subscribe:t,set:e}=a(!1);return{subscribe:t,true:()=>{e(!0)},false:()=>{e(!1)}}},i=A(),n=C(),c=E(),q=T(),R=x(),k=async()=>await(await fetch("/auth-state")).json(),j=async()=>{i.pendingTrue();try{const t=await k();t.auth?(n.authedTrue(),c.setEmail(t.email)):(n.authedFalse(),c.clearEmail())}catch(t){console.log("checkAuth Request Error",t,t.stack),n.authedFalse(),c.clearEmail()}i.pendingFalse()};export{L,n as a,c as b,j as c,q as d,F as g,i as p,R as r};
